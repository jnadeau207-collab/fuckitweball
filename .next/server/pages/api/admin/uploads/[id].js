'use strict';
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
  var exports = {};
  exports.id = 'pages/api/admin/uploads/[id]';
  exports.ids = ['pages/api/admin/uploads/[id]'];
  exports.modules = {
    /***/ '@prisma/client':
      /*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
      /***/ (module) => {
        module.exports = require('@prisma/client');

        /***/
      },

    /***/ bcrypt:
      /*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
      /***/ (module) => {
        module.exports = require('bcrypt');

        /***/
      },

    /***/ 'next-auth':
      /*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
      /***/ (module) => {
        module.exports = require('next-auth');

        /***/
      },

    /***/ 'next-auth/next':
      /*!*********************************!*\
  !*** external "next-auth/next" ***!
  \*********************************/
      /***/ (module) => {
        module.exports = require('next-auth/next');

        /***/
      },

    /***/ 'next-auth/providers/credentials':
      /*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
      /***/ (module) => {
        module.exports = require('next-auth/providers/credentials');

        /***/
      },

    /***/ 'next/dist/compiled/next-server/pages-api.runtime.dev.js':
      /*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
      /***/ (module) => {
        module.exports = require('next/dist/compiled/next-server/pages-api.runtime.dev.js');

        /***/
      },

    /***/ '(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fuploads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cuploads%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D!':
      /*!**********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fuploads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cuploads%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__,
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ "(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ "(api)/./node_modules/next/dist/server/future/route-kind.js");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ "(api)/./node_modules/next/dist/build/templates/helpers.js");\n/* harmony import */ var _pages_api_admin_uploads_id_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\admin\\uploads\\[id].ts */ "(api)/./pages/api/admin/uploads/[id].ts");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_admin_uploads_id_ts__WEBPACK_IMPORTED_MODULE_3__, "default"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_admin_uploads_id_ts__WEBPACK_IMPORTED_MODULE_3__, "config");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: "/api/admin/uploads/[id]",\n        pathname: "/api/admin/uploads/[id]",\n        // The following aren\'t used in production.\n        bundlePath: "",\n        filename: ""\n    },\n    userland: _pages_api_admin_uploads_id_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFkbWluJTJGdXBsb2FkcyUyRiU1QmlkJTVEJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNhZG1pbiU1Q3VwbG9hZHMlNUMlNUJpZCU1RC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNrRTtBQUNsRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsMkRBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDJEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NhcnRmYXgvP2RiMDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxhZG1pblxcXFx1cGxvYWRzXFxcXFtpZF0udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi91cGxvYWRzL1tpZF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi91cGxvYWRzL1tpZF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fuploads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cuploads%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D!\n',
        );

        /***/
      },

    /***/ '(api)/./lib/coaParser.ts':
      /*!**************************!*\
  !*** ./lib/coaParser.ts ***!
  \**************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__,
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseCoaText: () => (/* binding */ parseCoaText)\n/* harmony export */ });\n// lib/coaParser.ts\n/**\r\n * Utility: normalize line endings and compress multiple spaces\r\n */ function normalizeText(input) {\n    return input.replace(/\\r\\n/g, "\\n");\n}\n/**\r\n * Utility: extract first match group as string or null\r\n */ function matchGroup(text, regex, groupIndex = 1) {\n    const m = text.match(regex);\n    if (!m || !m[groupIndex]) return null;\n    return m[groupIndex].trim();\n}\n/**\r\n * Utility: extract number from a matched group like "28.5 %"\r\n */ function matchNumber(text, regex, groupIndex = 1) {\n    const s = matchGroup(text, regex, groupIndex);\n    if (!s) return null;\n    const cleaned = s.replace(/[^\\d.\\-]/g, "");\n    const n = Number(cleaned);\n    return Number.isNaN(n) ? null : n;\n}\n/**\r\n * Utility: slice text between two markers (best effort)\r\n */ function sliceBetween(text, startMarker, endMarkers) {\n    const lower = text.toLowerCase();\n    const startIdx = lower.indexOf(startMarker.toLowerCase());\n    if (startIdx === -1) return undefined;\n    let endIdx = text.length;\n    for (const end of endMarkers){\n        const idx = lower.indexOf(end.toLowerCase(), startIdx + startMarker.length);\n        if (idx !== -1 && idx < endIdx) {\n            endIdx = idx;\n        }\n    }\n    return text.slice(startIdx, endIdx).trim();\n}\n/**\r\n * Scan the whole text for FAIL lines and try to infer category + analyte name.\r\n */ function detectFailures(text) {\n    const lines = text.split("\\n").map((l)=>l.trim()).filter(Boolean);\n    const failures = [];\n    for (const line of lines){\n        if (!/FAIL\\b/i.test(line)) continue;\n        // crude heuristics to guess category by context keywords\n        let category = "Unknown";\n        const lower = line.toLowerCase();\n        if (lower.includes("mycotoxin")) category = "Mycotoxins";\n        else if (lower.includes("yeast") || lower.includes("mold") || lower.includes("bacteria") || lower.includes("salmonella") || lower.includes("coli") || lower.includes("enterobacter")) {\n            category = "Microbials";\n        } else if (lower.includes("pesticide") || lower.includes("fungicide") || lower.includes("insecticide") || lower.includes("growth regulator") || lower.includes("μg/kg")) {\n            category = "Pesticides";\n        } else if (lower.includes("arsenic") || lower.includes("cadmium") || lower.includes("lead") || lower.includes("mercury")) {\n            category = "Heavy metals";\n        } else if (lower.includes("butane") || lower.includes("propane") || lower.includes("solvent")) {\n            category = "Solvents";\n        } else if (lower.includes("hop latent viroid") || lower.includes("virus")) {\n            category = "Viral / plant health";\n        }\n        // analyte is usually at the start of the line until a double-space or number chunk\n        const analyteMatch = line.match(/^([A-Z0-9\\-\\.\\s]+?)(\\d|<|N|P|F|μ|µ|$)/i);\n        const analyte = analyteMatch ? analyteMatch[1].trim() : "Unknown analyte";\n        failures.push({\n            analyte,\n            category,\n            line\n        });\n    }\n    return failures;\n}\n/**\r\n * Main entrypoint: parse COA text into structured-ish data.\r\n * This is deliberately tolerant: it will fill what it can and leave the rest null.\r\n */ function parseCoaText(raw) {\n    const text = normalizeText(raw);\n    // Top-level summary values\n    const batchCode = matchGroup(text, /BATCH:\\s*([A-Za-z0-9\\-\\._]+)/i) ?? matchGroup(text, /BATCH ID:\\s*([A-Za-z0-9\\-\\._]+)/i) ?? null;\n    const productName = matchGroup(text, /COA EXAMPLE.*\\(([^)]+)\\)/i) ?? matchGroup(text, /COA .*?FOR\\s+([^\\/\\n]+)\\//i) ?? null;\n    const labName = matchGroup(text, /([A-Z][A-Z0-9\\s]+LABS)\\b/) ?? matchGroup(text, /CLIENT:\\s*([A-Z0-9\\s\\-]+)\\s*\\/\\//i) ?? null;\n    const matrix = matchGroup(text, /MATRIX:\\s*([A-Z0-9 ]+)/i) ?? null;\n    const sampleId = matchGroup(text, /SAMPLE ID:\\s*([A-Za-z0-9\\-]+)/i) ?? null;\n    const collectedOn = matchGroup(text, /COLLECTED ON:\\s*([A-Za-z]{3}\\s+\\d{1,2},\\s+\\d{4})/i) ?? matchGroup(text, /COLLECTED ON:\\s*([A-Za-z0-9 ,/]+)/i) ?? null;\n    const receivedOn = matchGroup(text, /RECEIVED ON:\\s*([A-Za-z]{3}\\s+\\d{1,2},\\s+\\d{4})/i) ?? matchGroup(text, /RECEIVED ON:\\s*([A-Za-z0-9 ,/]+)/i) ?? null;\n    const batchSizeGrams = matchNumber(text, /BATCH SIZE:\\s*([0-9.,]+)\\s*G/i) ?? null;\n    const sampleSizeGrams = matchNumber(text, /SAMPLE SIZE:\\s*([0-9.,]+)\\s*G/i) ?? null;\n    const thcPercent = matchNumber(text, /Δ-?THC:?\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%/i) ?? matchNumber(text, /TOTAL THC\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%/i) ?? null;\n    const cbdPercent = matchNumber(text, /CBD:?\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%/i) ?? matchNumber(text, /TOTAL CBD\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%/i) ?? null;\n    const totalCannabinoidsPercent = matchNumber(text, /TOTAL CANNABINOIDS:?\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%/i) ?? null;\n    const totalTerpenesPercent = matchNumber(text, /TOTAL TERPENES\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%/i) ?? null;\n    const moisturePercent = matchNumber(text, /MOISTURE\\s*([0-9]+(?:\\.[0-9]+)?)\\s*%/i) ?? null;\n    const waterActivity = matchNumber(text, /WATER ACTIVITY\\s*([0-9]+(?:\\.[0-9]+)?)\\s*Aw/i) ?? null;\n    const batchResultRaw = matchGroup(text, /BATCH RESULT:\\s*(PASS|FAIL)/i) ?? null;\n    const batchResult = batchResultRaw?.toUpperCase() === "PASS" ? "PASS" : batchResultRaw?.toUpperCase() === "FAIL" ? "FAIL" : "UNKNOWN";\n    const failures = detectFailures(text);\n    const hasAnyFailure = batchResult === "FAIL" || failures && failures.length > 0;\n    // Raw sections to show in debug viewer\n    const potencySection = sliceBetween(text, "CAN.1: POTENCY", [\n        "TERPENES BY",\n        "RSOL.1",\n        "RESIDUAL SOLVENTS"\n    ]);\n    const terpenesSection = sliceBetween(text, "TERPENES BY", [\n        "RSOL.1",\n        "RESIDUAL SOLVENTS",\n        "PST.2"\n    ]);\n    const pesticidesSection = sliceBetween(text, "PST.2:", [\n        "MYC.1:",\n        "HME.1:",\n        "HEAVY METALS"\n    ]);\n    const mycotoxinsSection = sliceBetween(text, "MYC.1:", [\n        "HME.1:",\n        "HEAVY METALS",\n        "FMT.1:"\n    ]);\n    const heavyMetalsSection = sliceBetween(text, "HME.1:", [\n        "FMT.1:",\n        "FILTH AND FOREIGN",\n        "MOISTURE CONTENT"\n    ]);\n    const solventsSection = sliceBetween(text, "RSOL.1:", [\n        "PST.2",\n        "MYC.1"\n    ]);\n    const microbialsSection = sliceBetween(text, "TOTAL YEAST AND MOLD", [\n        "NOTES",\n        "END OF REPORT"\n    ]);\n    const notesSection = sliceBetween(text, "NOTES", [\n        "END OF REPORT"\n    ]);\n    const summary = {\n        batchCode,\n        productName,\n        labName,\n        matrix,\n        sampleId,\n        collectedOn,\n        receivedOn,\n        batchSizeGrams,\n        sampleSizeGrams,\n        thcPercent,\n        cbdPercent,\n        totalCannabinoidsPercent,\n        totalTerpenesPercent,\n        moisturePercent,\n        waterActivity,\n        batchResult,\n        hasAnyFailure,\n        failureReasons: failures\n    };\n    return {\n        summary,\n        rawSections: {\n            potency: potencySection,\n            terpenes: terpenesSection,\n            pesticides: pesticidesSection,\n            microbials: microbialsSection,\n            mycotoxins: mycotoxinsSection,\n            heavyMetals: heavyMetalsSection,\n            solvents: solventsSection,\n            notes: notesSection\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FFO1FBQ0FFO1FBQ0FVLGdCQUFnQnRDO0lBQ2xCO0lBRUEsT0FBTztRQUNMcUM7UUFDQUUsYUFBYTtZQUNYQyxTQUFTWDtZQUNUWSxVQUFVWDtZQUNWWSxZQUFZWDtZQUNaWSxZQUFZUjtZQUNaUyxZQUFZWjtZQUNaYSxhQUFhWjtZQUNiYSxVQUFVWjtZQUNWYSxPQUFPWDtRQUNUO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NhcnRmYXgvLi9saWIvY29hUGFyc2VyLnRzPzkzZjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2NvYVBhcnNlci50c1xyXG5cclxuZXhwb3J0IHR5cGUgUGFyc2VkRmFpbHVyZSA9IHtcclxuICBhbmFseXRlOiBzdHJpbmc7XHJcbiAgY2F0ZWdvcnk6IHN0cmluZztcclxuICBsaW5lOiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBQYXJzZWRDT0FTdW1tYXJ5ID0ge1xyXG4gIGJhdGNoQ29kZT86IHN0cmluZyB8IG51bGw7XHJcbiAgcHJvZHVjdE5hbWU/OiBzdHJpbmcgfCBudWxsO1xyXG4gIGxhYk5hbWU/OiBzdHJpbmcgfCBudWxsO1xyXG4gIG1hdHJpeD86IHN0cmluZyB8IG51bGw7XHJcbiAgc2FtcGxlSWQ/OiBzdHJpbmcgfCBudWxsO1xyXG4gIGNvbGxlY3RlZE9uPzogc3RyaW5nIHwgbnVsbDtcclxuICByZWNlaXZlZE9uPzogc3RyaW5nIHwgbnVsbDtcclxuICBiYXRjaFNpemVHcmFtcz86IG51bWJlciB8IG51bGw7XHJcbiAgc2FtcGxlU2l6ZUdyYW1zPzogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgdGhjUGVyY2VudD86IG51bWJlciB8IG51bGw7XHJcbiAgY2JkUGVyY2VudD86IG51bWJlciB8IG51bGw7XHJcbiAgdG90YWxDYW5uYWJpbm9pZHNQZXJjZW50PzogbnVtYmVyIHwgbnVsbDtcclxuICB0b3RhbFRlcnBlbmVzUGVyY2VudD86IG51bWJlciB8IG51bGw7XHJcbiAgbW9pc3R1cmVQZXJjZW50PzogbnVtYmVyIHwgbnVsbDtcclxuICB3YXRlckFjdGl2aXR5PzogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgYmF0Y2hSZXN1bHQ/OiAnUEFTUycgfCAnRkFJTCcgfCAnVU5LTk9XTic7XHJcbiAgaGFzQW55RmFpbHVyZTogYm9vbGVhbjtcclxuICBmYWlsdXJlUmVhc29uczogUGFyc2VkRmFpbHVyZVtdO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgUGFyc2VkQ09BID0ge1xyXG4gIHN1bW1hcnk6IFBhcnNlZENPQVN1bW1hcnk7XHJcbiAgcmF3U2VjdGlvbnM6IHtcclxuICAgIHBvdGVuY3k/OiBzdHJpbmc7XHJcbiAgICB0ZXJwZW5lcz86IHN0cmluZztcclxuICAgIHBlc3RpY2lkZXM/OiBzdHJpbmc7XHJcbiAgICBtaWNyb2JpYWxzPzogc3RyaW5nO1xyXG4gICAgbXljb3RveGlucz86IHN0cmluZztcclxuICAgIGhlYXZ5TWV0YWxzPzogc3RyaW5nO1xyXG4gICAgc29sdmVudHM/OiBzdHJpbmc7XHJcbiAgICBub3Rlcz86IHN0cmluZztcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFV0aWxpdHk6IG5vcm1hbGl6ZSBsaW5lIGVuZGluZ3MgYW5kIGNvbXByZXNzIG11bHRpcGxlIHNwYWNlc1xyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplVGV4dChpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFV0aWxpdHk6IGV4dHJhY3QgZmlyc3QgbWF0Y2ggZ3JvdXAgYXMgc3RyaW5nIG9yIG51bGxcclxuICovXHJcbmZ1bmN0aW9uIG1hdGNoR3JvdXAodGV4dDogc3RyaW5nLCByZWdleDogUmVnRXhwLCBncm91cEluZGV4ID0gMSk6IHN0cmluZyB8IG51bGwge1xyXG4gIGNvbnN0IG0gPSB0ZXh0Lm1hdGNoKHJlZ2V4KTtcclxuICBpZiAoIW0gfHwgIW1bZ3JvdXBJbmRleF0pIHJldHVybiBudWxsO1xyXG4gIHJldHVybiBtW2dyb3VwSW5kZXhdLnRyaW0oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFV0aWxpdHk6IGV4dHJhY3QgbnVtYmVyIGZyb20gYSBtYXRjaGVkIGdyb3VwIGxpa2UgXCIyOC41ICVcIlxyXG4gKi9cclxuZnVuY3Rpb24gbWF0Y2hOdW1iZXIoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIHJlZ2V4OiBSZWdFeHAsXHJcbiAgZ3JvdXBJbmRleCA9IDFcclxuKTogbnVtYmVyIHwgbnVsbCB7XHJcbiAgY29uc3QgcyA9IG1hdGNoR3JvdXAodGV4dCwgcmVnZXgsIGdyb3VwSW5kZXgpO1xyXG4gIGlmICghcykgcmV0dXJuIG51bGw7XHJcbiAgY29uc3QgY2xlYW5lZCA9IHMucmVwbGFjZSgvW15cXGQuXFwtXS9nLCAnJyk7XHJcbiAgY29uc3QgbiA9IE51bWJlcihjbGVhbmVkKTtcclxuICByZXR1cm4gTnVtYmVyLmlzTmFOKG4pID8gbnVsbCA6IG47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVdGlsaXR5OiBzbGljZSB0ZXh0IGJldHdlZW4gdHdvIG1hcmtlcnMgKGJlc3QgZWZmb3J0KVxyXG4gKi9cclxuZnVuY3Rpb24gc2xpY2VCZXR3ZWVuKFxyXG4gIHRleHQ6IHN0cmluZyxcclxuICBzdGFydE1hcmtlcjogc3RyaW5nLFxyXG4gIGVuZE1hcmtlcnM6IHN0cmluZ1tdXHJcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgbG93ZXIgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XHJcbiAgY29uc3Qgc3RhcnRJZHggPSBsb3dlci5pbmRleE9mKHN0YXJ0TWFya2VyLnRvTG93ZXJDYXNlKCkpO1xyXG4gIGlmIChzdGFydElkeCA9PT0gLTEpIHJldHVybiB1bmRlZmluZWQ7XHJcblxyXG4gIGxldCBlbmRJZHggPSB0ZXh0Lmxlbmd0aDtcclxuICBmb3IgKGNvbnN0IGVuZCBvZiBlbmRNYXJrZXJzKSB7XHJcbiAgICBjb25zdCBpZHggPSBsb3dlci5pbmRleE9mKGVuZC50b0xvd2VyQ2FzZSgpLCBzdGFydElkeCArIHN0YXJ0TWFya2VyLmxlbmd0aCk7XHJcbiAgICBpZiAoaWR4ICE9PSAtMSAmJiBpZHggPCBlbmRJZHgpIHtcclxuICAgICAgZW5kSWR4ID0gaWR4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRleHQuc2xpY2Uoc3RhcnRJZHgsIGVuZElkeCkudHJpbSgpO1xyXG59XHJcblxyXG4vKipcclxuICogU2NhbiB0aGUgd2hvbGUgdGV4dCBmb3IgRkFJTCBsaW5lcyBhbmQgdHJ5IHRvIGluZmVyIGNhdGVnb3J5ICsgYW5hbHl0ZSBuYW1lLlxyXG4gKi9cclxuZnVuY3Rpb24gZGV0ZWN0RmFpbHVyZXModGV4dDogc3RyaW5nKTogUGFyc2VkRmFpbHVyZVtdIHtcclxuICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpLm1hcCgobCkgPT4gbC50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcclxuICBjb25zdCBmYWlsdXJlczogUGFyc2VkRmFpbHVyZVtdID0gW107XHJcblxyXG4gIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4gICAgaWYgKCEvRkFJTFxcYi9pLnRlc3QobGluZSkpIGNvbnRpbnVlO1xyXG5cclxuICAgIC8vIGNydWRlIGhldXJpc3RpY3MgdG8gZ3Vlc3MgY2F0ZWdvcnkgYnkgY29udGV4dCBrZXl3b3Jkc1xyXG4gICAgbGV0IGNhdGVnb3J5ID0gJ1Vua25vd24nO1xyXG4gICAgY29uc3QgbG93ZXIgPSBsaW5lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBpZiAobG93ZXIuaW5jbHVkZXMoJ215Y290b3hpbicpKSBjYXRlZ29yeSA9ICdNeWNvdG94aW5zJztcclxuICAgIGVsc2UgaWYgKGxvd2VyLmluY2x1ZGVzKCd5ZWFzdCcpIHx8IGxvd2VyLmluY2x1ZGVzKCdtb2xkJykgfHwgbG93ZXIuaW5jbHVkZXMoJ2JhY3RlcmlhJykgfHwgbG93ZXIuaW5jbHVkZXMoJ3NhbG1vbmVsbGEnKSB8fCBsb3dlci5pbmNsdWRlcygnY29saScpIHx8IGxvd2VyLmluY2x1ZGVzKCdlbnRlcm9iYWN0ZXInKSkge1xyXG4gICAgICBjYXRlZ29yeSA9ICdNaWNyb2JpYWxzJztcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgIGxvd2VyLmluY2x1ZGVzKCdwZXN0aWNpZGUnKSB8fFxyXG4gICAgICBsb3dlci5pbmNsdWRlcygnZnVuZ2ljaWRlJykgfHxcclxuICAgICAgbG93ZXIuaW5jbHVkZXMoJ2luc2VjdGljaWRlJykgfHxcclxuICAgICAgbG93ZXIuaW5jbHVkZXMoJ2dyb3d0aCByZWd1bGF0b3InKSB8fFxyXG4gICAgICBsb3dlci5pbmNsdWRlcygnzrxnL2tnJylcclxuICAgICkge1xyXG4gICAgICBjYXRlZ29yeSA9ICdQZXN0aWNpZGVzJztcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgIGxvd2VyLmluY2x1ZGVzKCdhcnNlbmljJykgfHxcclxuICAgICAgbG93ZXIuaW5jbHVkZXMoJ2NhZG1pdW0nKSB8fFxyXG4gICAgICBsb3dlci5pbmNsdWRlcygnbGVhZCcpIHx8XHJcbiAgICAgIGxvd2VyLmluY2x1ZGVzKCdtZXJjdXJ5JylcclxuICAgICkge1xyXG4gICAgICBjYXRlZ29yeSA9ICdIZWF2eSBtZXRhbHMnO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgbG93ZXIuaW5jbHVkZXMoJ2J1dGFuZScpIHx8XHJcbiAgICAgIGxvd2VyLmluY2x1ZGVzKCdwcm9wYW5lJykgfHxcclxuICAgICAgbG93ZXIuaW5jbHVkZXMoJ3NvbHZlbnQnKVxyXG4gICAgKSB7XHJcbiAgICAgIGNhdGVnb3J5ID0gJ1NvbHZlbnRzJztcclxuICAgIH0gZWxzZSBpZiAobG93ZXIuaW5jbHVkZXMoJ2hvcCBsYXRlbnQgdmlyb2lkJykgfHwgbG93ZXIuaW5jbHVkZXMoJ3ZpcnVzJykpIHtcclxuICAgICAgY2F0ZWdvcnkgPSAnVmlyYWwgLyBwbGFudCBoZWFsdGgnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFuYWx5dGUgaXMgdXN1YWxseSBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpbmUgdW50aWwgYSBkb3VibGUtc3BhY2Ugb3IgbnVtYmVyIGNodW5rXHJcbiAgICBjb25zdCBhbmFseXRlTWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFtBLVowLTlcXC1cXC5cXHNdKz8pKFxcZHw8fE58UHxGfM68fMK1fCQpL2kpO1xyXG4gICAgY29uc3QgYW5hbHl0ZSA9IGFuYWx5dGVNYXRjaCA/IGFuYWx5dGVNYXRjaFsxXS50cmltKCkgOiAnVW5rbm93biBhbmFseXRlJztcclxuXHJcbiAgICBmYWlsdXJlcy5wdXNoKHtcclxuICAgICAgYW5hbHl0ZSxcclxuICAgICAgY2F0ZWdvcnksXHJcbiAgICAgIGxpbmUsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJldHVybiBmYWlsdXJlcztcclxufVxyXG5cclxuLyoqXHJcbiAqIE1haW4gZW50cnlwb2ludDogcGFyc2UgQ09BIHRleHQgaW50byBzdHJ1Y3R1cmVkLWlzaCBkYXRhLlxyXG4gKiBUaGlzIGlzIGRlbGliZXJhdGVseSB0b2xlcmFudDogaXQgd2lsbCBmaWxsIHdoYXQgaXQgY2FuIGFuZCBsZWF2ZSB0aGUgcmVzdCBudWxsLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29hVGV4dChyYXc6IHN0cmluZyk6IFBhcnNlZENPQSB7XHJcbiAgY29uc3QgdGV4dCA9IG5vcm1hbGl6ZVRleHQocmF3KTtcclxuXHJcbiAgLy8gVG9wLWxldmVsIHN1bW1hcnkgdmFsdWVzXHJcbiAgY29uc3QgYmF0Y2hDb2RlID1cclxuICAgIG1hdGNoR3JvdXAodGV4dCwgL0JBVENIOlxccyooW0EtWmEtejAtOVxcLVxcLl9dKykvaSkgPz9cclxuICAgIG1hdGNoR3JvdXAodGV4dCwgL0JBVENIIElEOlxccyooW0EtWmEtejAtOVxcLVxcLl9dKykvaSkgPz9cclxuICAgIG51bGw7XHJcblxyXG4gIGNvbnN0IHByb2R1Y3ROYW1lID1cclxuICAgIG1hdGNoR3JvdXAodGV4dCwgL0NPQSBFWEFNUExFLipcXCgoW14pXSspXFwpL2kpID8/XHJcbiAgICBtYXRjaEdyb3VwKHRleHQsIC9DT0EgLio/Rk9SXFxzKyhbXlxcL1xcbl0rKVxcLy9pKSA/P1xyXG4gICAgbnVsbDtcclxuXHJcbiAgY29uc3QgbGFiTmFtZSA9XHJcbiAgICBtYXRjaEdyb3VwKHRleHQsIC8oW0EtWl1bQS1aMC05XFxzXStMQUJTKVxcYi8pID8/XHJcbiAgICBtYXRjaEdyb3VwKHRleHQsIC9DTElFTlQ6XFxzKihbQS1aMC05XFxzXFwtXSspXFxzKlxcL1xcLy9pKSA/P1xyXG4gICAgbnVsbDtcclxuXHJcbiAgY29uc3QgbWF0cml4ID1cclxuICAgIG1hdGNoR3JvdXAodGV4dCwgL01BVFJJWDpcXHMqKFtBLVowLTkgXSspL2kpID8/IG51bGw7XHJcblxyXG4gIGNvbnN0IHNhbXBsZUlkID1cclxuICAgIG1hdGNoR3JvdXAodGV4dCwgL1NBTVBMRSBJRDpcXHMqKFtBLVphLXowLTlcXC1dKykvaSkgPz8gbnVsbDtcclxuXHJcbiAgY29uc3QgY29sbGVjdGVkT24gPVxyXG4gICAgbWF0Y2hHcm91cCh0ZXh0LCAvQ09MTEVDVEVEIE9OOlxccyooW0EtWmEtel17M31cXHMrXFxkezEsMn0sXFxzK1xcZHs0fSkvaSkgPz9cclxuICAgIG1hdGNoR3JvdXAodGV4dCwgL0NPTExFQ1RFRCBPTjpcXHMqKFtBLVphLXowLTkgLC9dKykvaSkgPz9cclxuICAgIG51bGw7XHJcblxyXG4gIGNvbnN0IHJlY2VpdmVkT24gPVxyXG4gICAgbWF0Y2hHcm91cCh0ZXh0LCAvUkVDRUlWRUQgT046XFxzKihbQS1aYS16XXszfVxccytcXGR7MSwyfSxcXHMrXFxkezR9KS9pKSA/P1xyXG4gICAgbWF0Y2hHcm91cCh0ZXh0LCAvUkVDRUlWRUQgT046XFxzKihbQS1aYS16MC05ICwvXSspL2kpID8/XHJcbiAgICBudWxsO1xyXG5cclxuICBjb25zdCBiYXRjaFNpemVHcmFtcyA9XHJcbiAgICBtYXRjaE51bWJlcih0ZXh0LCAvQkFUQ0ggU0laRTpcXHMqKFswLTkuLF0rKVxccypHL2kpID8/IG51bGw7XHJcblxyXG4gIGNvbnN0IHNhbXBsZVNpemVHcmFtcyA9XHJcbiAgICBtYXRjaE51bWJlcih0ZXh0LCAvU0FNUExFIFNJWkU6XFxzKihbMC05LixdKylcXHMqRy9pKSA/PyBudWxsO1xyXG5cclxuICBjb25zdCB0aGNQZXJjZW50ID1cclxuICAgIG1hdGNoTnVtYmVyKHRleHQsIC/OlC0/VEhDOj9cXHMqKFswLTldKyg/OlxcLlswLTldKyk/KVxccyolL2kpID8/XHJcbiAgICBtYXRjaE51bWJlcih0ZXh0LCAvVE9UQUwgVEhDXFxzKihbMC05XSsoPzpcXC5bMC05XSspPylcXHMqJS9pKSA/P1xyXG4gICAgbnVsbDtcclxuXHJcbiAgY29uc3QgY2JkUGVyY2VudCA9XHJcbiAgICBtYXRjaE51bWJlcih0ZXh0LCAvQ0JEOj9cXHMqKFswLTldKyg/OlxcLlswLTldKyk/KVxccyolL2kpID8/XHJcbiAgICBtYXRjaE51bWJlcih0ZXh0LCAvVE9UQUwgQ0JEXFxzKihbMC05XSsoPzpcXC5bMC05XSspPylcXHMqJS9pKSA/P1xyXG4gICAgbnVsbDtcclxuXHJcbiAgY29uc3QgdG90YWxDYW5uYWJpbm9pZHNQZXJjZW50ID1cclxuICAgIG1hdGNoTnVtYmVyKHRleHQsIC9UT1RBTCBDQU5OQUJJTk9JRFM6P1xccyooWzAtOV0rKD86XFwuWzAtOV0rKT8pXFxzKiUvaSkgPz9cclxuICAgIG51bGw7XHJcblxyXG4gIGNvbnN0IHRvdGFsVGVycGVuZXNQZXJjZW50ID1cclxuICAgIG1hdGNoTnVtYmVyKHRleHQsIC9UT1RBTCBURVJQRU5FU1xccyooWzAtOV0rKD86XFwuWzAtOV0rKT8pXFxzKiUvaSkgPz8gbnVsbDtcclxuXHJcbiAgY29uc3QgbW9pc3R1cmVQZXJjZW50ID1cclxuICAgIG1hdGNoTnVtYmVyKHRleHQsIC9NT0lTVFVSRVxccyooWzAtOV0rKD86XFwuWzAtOV0rKT8pXFxzKiUvaSkgPz8gbnVsbDtcclxuXHJcbiAgY29uc3Qgd2F0ZXJBY3Rpdml0eSA9XHJcbiAgICBtYXRjaE51bWJlcih0ZXh0LCAvV0FURVIgQUNUSVZJVFlcXHMqKFswLTldKyg/OlxcLlswLTldKyk/KVxccypBdy9pKSA/PyBudWxsO1xyXG5cclxuICBjb25zdCBiYXRjaFJlc3VsdFJhdyA9XHJcbiAgICBtYXRjaEdyb3VwKHRleHQsIC9CQVRDSCBSRVNVTFQ6XFxzKihQQVNTfEZBSUwpL2kpID8/IG51bGw7XHJcblxyXG4gIGNvbnN0IGJhdGNoUmVzdWx0OiAnUEFTUycgfCAnRkFJTCcgfCAnVU5LTk9XTicgPVxyXG4gICAgYmF0Y2hSZXN1bHRSYXc/LnRvVXBwZXJDYXNlKCkgPT09ICdQQVNTJ1xyXG4gICAgICA/ICdQQVNTJ1xyXG4gICAgICA6IGJhdGNoUmVzdWx0UmF3Py50b1VwcGVyQ2FzZSgpID09PSAnRkFJTCdcclxuICAgICAgPyAnRkFJTCdcclxuICAgICAgOiAnVU5LTk9XTic7XHJcblxyXG4gIGNvbnN0IGZhaWx1cmVzID0gZGV0ZWN0RmFpbHVyZXModGV4dCk7XHJcbiAgY29uc3QgaGFzQW55RmFpbHVyZSA9XHJcbiAgICBiYXRjaFJlc3VsdCA9PT0gJ0ZBSUwnIHx8IChmYWlsdXJlcyAmJiBmYWlsdXJlcy5sZW5ndGggPiAwKTtcclxuXHJcbiAgLy8gUmF3IHNlY3Rpb25zIHRvIHNob3cgaW4gZGVidWcgdmlld2VyXHJcbiAgY29uc3QgcG90ZW5jeVNlY3Rpb24gPSBzbGljZUJldHdlZW4odGV4dCwgJ0NBTi4xOiBQT1RFTkNZJywgW1xyXG4gICAgJ1RFUlBFTkVTIEJZJyxcclxuICAgICdSU09MLjEnLFxyXG4gICAgJ1JFU0lEVUFMIFNPTFZFTlRTJyxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgdGVycGVuZXNTZWN0aW9uID0gc2xpY2VCZXR3ZWVuKHRleHQsICdURVJQRU5FUyBCWScsIFtcclxuICAgICdSU09MLjEnLFxyXG4gICAgJ1JFU0lEVUFMIFNPTFZFTlRTJyxcclxuICAgICdQU1QuMicsXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IHBlc3RpY2lkZXNTZWN0aW9uID0gc2xpY2VCZXR3ZWVuKHRleHQsICdQU1QuMjonLCBbXHJcbiAgICAnTVlDLjE6JyxcclxuICAgICdITUUuMTonLFxyXG4gICAgJ0hFQVZZIE1FVEFMUycsXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IG15Y290b3hpbnNTZWN0aW9uID0gc2xpY2VCZXR3ZWVuKHRleHQsICdNWUMuMTonLCBbXHJcbiAgICAnSE1FLjE6JyxcclxuICAgICdIRUFWWSBNRVRBTFMnLFxyXG4gICAgJ0ZNVC4xOicsXHJcbiAgXSk7XHJcblxyXG4gIGNvbnN0IGhlYXZ5TWV0YWxzU2VjdGlvbiA9IHNsaWNlQmV0d2Vlbih0ZXh0LCAnSE1FLjE6JywgW1xyXG4gICAgJ0ZNVC4xOicsXHJcbiAgICAnRklMVEggQU5EIEZPUkVJR04nLFxyXG4gICAgJ01PSVNUVVJFIENPTlRFTlQnLFxyXG4gIF0pO1xyXG5cclxuICBjb25zdCBzb2x2ZW50c1NlY3Rpb24gPSBzbGljZUJldHdlZW4odGV4dCwgJ1JTT0wuMTonLCBbXHJcbiAgICAnUFNULjInLFxyXG4gICAgJ01ZQy4xJyxcclxuICBdKTtcclxuXHJcbiAgY29uc3QgbWljcm9iaWFsc1NlY3Rpb24gPSBzbGljZUJldHdlZW4odGV4dCwgJ1RPVEFMIFlFQVNUIEFORCBNT0xEJywgW1xyXG4gICAgJ05PVEVTJyxcclxuICAgICdFTkQgT0YgUkVQT1JUJyxcclxuICBdKTtcclxuXHJcbiAgY29uc3Qgbm90ZXNTZWN0aW9uID0gc2xpY2VCZXR3ZWVuKHRleHQsICdOT1RFUycsIFsnRU5EIE9GIFJFUE9SVCddKTtcclxuXHJcbiAgY29uc3Qgc3VtbWFyeTogUGFyc2VkQ09BU3VtbWFyeSA9IHtcclxuICAgIGJhdGNoQ29kZSxcclxuICAgIHByb2R1Y3ROYW1lLFxyXG4gICAgbGFiTmFtZSxcclxuICAgIG1hdHJpeCxcclxuICAgIHNhbXBsZUlkLFxyXG4gICAgY29sbGVjdGVkT24sXHJcbiAgICByZWNlaXZlZE9uLFxyXG4gICAgYmF0Y2hTaXplR3JhbXMsXHJcbiAgICBzYW1wbGVTaXplR3JhbXMsXHJcbiAgICB0aGNQZXJjZW50LFxyXG4gICAgY2JkUGVyY2VudCxcclxuICAgIHRvdGFsQ2FubmFiaW5vaWRzUGVyY2VudCxcclxuICAgIHRvdGFsVGVycGVuZXNQZXJjZW50LFxyXG4gICAgbW9pc3R1cmVQZXJjZW50LFxyXG4gICAgd2F0ZXJBY3Rpdml0eSxcclxuICAgIGJhdGNoUmVzdWx0LFxyXG4gICAgaGFzQW55RmFpbHVyZSxcclxuICAgIGZhaWx1cmVSZWFzb25zOiBmYWlsdXJlcyxcclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc3VtbWFyeSxcclxuICAgIHJhd1NlY3Rpb25zOiB7XHJcbiAgICAgIHBvdGVuY3k6IHBvdGVuY3lTZWN0aW9uLFxyXG4gICAgICB0ZXJwZW5lczogdGVycGVuZXNTZWN0aW9uLFxyXG4gICAgICBwZXN0aWNpZGVzOiBwZXN0aWNpZGVzU2VjdGlvbixcclxuICAgICAgbWljcm9iaWFsczogbWljcm9iaWFsc1NlY3Rpb24sXHJcbiAgICAgIG15Y290b3hpbnM6IG15Y290b3hpbnNTZWN0aW9uLFxyXG4gICAgICBoZWF2eU1ldGFsczogaGVhdnlNZXRhbHNTZWN0aW9uLFxyXG4gICAgICBzb2x2ZW50czogc29sdmVudHNTZWN0aW9uLFxyXG4gICAgICBub3Rlczogbm90ZXNTZWN0aW9uLFxyXG4gICAgfSxcclxuICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJub3JtYWxpemVUZXh0IiwiaW5wdXQiLCJyZXBsYWNlIiwibWF0Y2hHcm91cCIsInRleHQiLCJyZWdleCIsImdyb3VwSW5kZXgiLCJtIiwibWF0Y2giLCJ0cmltIiwibWF0Y2hOdW1iZXIiLCJzIiwiY2xlYW5lZCIsIm4iLCJOdW1iZXIiLCJpc05hTiIsInNsaWNlQmV0d2VlbiIsInN0YXJ0TWFya2VyIiwiZW5kTWFya2VycyIsImxvd2VyIiwidG9Mb3dlckNhc2UiLCJzdGFydElkeCIsImluZGV4T2YiLCJ1bmRlZmluZWQiLCJlbmRJZHgiLCJsZW5ndGgiLCJlbmQiLCJpZHgiLCJzbGljZSIsImRldGVjdEZhaWx1cmVzIiwibGluZXMiLCJzcGxpdCIsIm1hcCIsImwiLCJmaWx0ZXIiLCJCb29sZWFuIiwiZmFpbHVyZXMiLCJsaW5lIiwidGVzdCIsImNhdGVnb3J5IiwiaW5jbHVkZXMiLCJhbmFseXRlTWF0Y2giLCJhbmFseXRlIiwicHVzaCIsInBhcnNlQ29hVGV4dCIsInJhdyIsImJhdGNoQ29kZSIsInByb2R1Y3ROYW1lIiwibGFiTmFtZSIsIm1hdHJpeCIsInNhbXBsZUlkIiwiY29sbGVjdGVkT24iLCJyZWNlaXZlZE9uIiwiYmF0Y2hTaXplR3JhbXMiLCJzYW1wbGVTaXplR3JhbXMiLCJ0aGNQZXJjZW50IiwiY2JkUGVyY2VudCIsInRvdGFsQ2FubmFiaW5vaWRzUGVyY2VudCIsInRvdGFsVGVycGVuZXNQZXJjZW50IiwibW9pc3R1cmVQZXJjZW50Iiwid2F0ZXJBY3Rpdml0eSIsImJhdGNoUmVzdWx0UmF3IiwiYmF0Y2hSZXN1bHQiLCJ0b1VwcGVyQ2FzZSIsImhhc0FueUZhaWx1cmUiLCJwb3RlbmN5U2VjdGlvbiIsInRlcnBlbmVzU2VjdGlvbiIsInBlc3RpY2lkZXNTZWN0aW9uIiwibXljb3RveGluc1NlY3Rpb24iLCJoZWF2eU1ldGFsc1NlY3Rpb24iLCJzb2x2ZW50c1NlY3Rpb24iLCJtaWNyb2JpYWxzU2VjdGlvbiIsIm5vdGVzU2VjdGlvbiIsInN1bW1hcnkiLCJmYWlsdXJlUmVhc29ucyIsInJhd1NlY3Rpb25zIiwicG90ZW5jeSIsInRlcnBlbmVzIiwicGVzdGljaWRlcyIsIm1pY3JvYmlhbHMiLCJteWNvdG94aW5zIiwiaGVhdnlNZXRhbHMiLCJzb2x2ZW50cyIsIm5vdGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/coaParser.ts\n',
        );

        /***/
      },

    /***/ '(api)/./pages/api/admin/uploads/[id].ts':
      /*!*****************************************!*\
  !*** ./pages/api/admin/uploads/[id].ts ***!
  \*****************************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__,
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ "@prisma/client");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/next */ "next-auth/next");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _auth_nextauth___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../auth/[...nextauth] */ "(api)/./pages/api/auth/[...nextauth].ts");\n/* harmony import */ var _lib_coaParser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/coaParser */ "(api)/./lib/coaParser.ts");\n// pages/api/admin/uploads/[id].ts\n\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nasync function handler(req, res) {\n    const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(req, res, _auth_nextauth___WEBPACK_IMPORTED_MODULE_2__.authOptions);\n    if (!session || session.user.role !== "admin") {\n        return res.status(403).json({\n            error: "forbidden"\n        });\n    }\n    const { id } = req.query;\n    const idNum = Number(id);\n    if (!id || Number.isNaN(idNum)) {\n        return res.status(400).json({\n            error: "invalid id"\n        });\n    }\n    if (req.method === "GET") {\n        try {\n            const doc = await prisma.uploadedDocument.findUnique({\n                where: {\n                    id: idNum\n                },\n                include: {\n                    labResult: {\n                        include: {\n                            batch: true,\n                            lab: true\n                        }\n                    }\n                }\n            });\n            if (!doc) {\n                return res.status(404).json({\n                    error: "not found"\n                });\n            }\n            // We don\'t know exactly what the text field is named in the DB,\n            // so we probe a few likely candidates via `any`.\n            const anyDoc = doc;\n            const rawText = anyDoc.extractedText || anyDoc.textContent || anyDoc.rawText || "";\n            const parseResult = rawText ? (0,_lib_coaParser__WEBPACK_IMPORTED_MODULE_3__.parseCoaText)(rawText) : null;\n            // Trim huge text for debug: keep first ~20k chars\n            const rawTextPreview = rawText && rawText.length > 20000 ? rawText.slice(0, 20000) + "\\n\\n[truncated for display]" : rawText;\n            return res.json({\n                id: doc.id,\n                fileName: doc.fileName,\n                // createdAt & others will be serialized as ISO strings by Next\n                createdAt: doc.createdAt,\n                mimeType: doc.mimeType ?? null,\n                sizeBytes: doc.sizeBytes ?? null,\n                labResult: doc.labResult,\n                batch: doc.labResult?.batch ?? null,\n                lab: doc.labResult?.lab ?? null,\n                rawTextPreview,\n                parseResult\n            });\n        } catch (e) {\n            console.error("Failed to load upload debug info", e);\n            return res.status(500).json({\n                error: e?.message || "Failed to load upload debug info"\n            });\n        }\n    }\n    if (req.method === "DELETE") {\n        try {\n            // We assume UploadedDocument has `labResultId` based on earlier schema.\n            const doc = await prisma.uploadedDocument.findUnique({\n                where: {\n                    id: idNum\n                },\n                select: {\n                    id: true,\n                    labResultId: true\n                }\n            });\n            if (!doc) {\n                return res.status(404).json({\n                    error: "not found"\n                });\n            }\n            await prisma.$transaction(async (tx)=>{\n                if (doc.labResultId) {\n                    await tx.labResult.delete({\n                        where: {\n                            id: doc.labResultId\n                        }\n                    });\n                }\n                await tx.uploadedDocument.delete({\n                    where: {\n                        id: doc.id\n                    }\n                });\n            });\n            return res.json({\n                ok: true\n            });\n        } catch (e) {\n            console.error("Failed to delete upload / lab result", e);\n            return res.status(500).json({\n                error: e?.message || "Failed to delete upload / lab result"\n            });\n        }\n    }\n    return res.status(405).end();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ25EO1lBRUEsTUFBTVQsT0FBT3lDLFlBQVksQ0FBQyxPQUFPQztnQkFDL0IsSUFBSTFCLElBQUl3QixXQUFXLEVBQUU7b0JBQ25CLE1BQU1FLEdBQUdyQixTQUFTLENBQUNzQixNQUFNLENBQUM7d0JBQ3hCeEIsT0FBTzs0QkFBRVQsSUFBSU0sSUFBSXdCLFdBQVc7d0JBQUM7b0JBQy9CO2dCQUNGO2dCQUVBLE1BQU1FLEdBQUd6QixnQkFBZ0IsQ0FBQzBCLE1BQU0sQ0FBQztvQkFDL0J4QixPQUFPO3dCQUFFVCxJQUFJTSxJQUFJTixFQUFFO29CQUFDO2dCQUN0QjtZQUNGO1lBRUEsT0FBT1AsSUFBSUssSUFBSSxDQUFDO2dCQUFFb0MsSUFBSTtZQUFLO1FBQzdCLEVBQUUsT0FBT1IsR0FBUTtZQUNmQyxRQUFRNUIsS0FBSyxDQUFDLHdDQUF3QzJCO1lBQ3RELE9BQU9qQyxJQUNKSSxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO2dCQUFFQyxPQUFPMkIsR0FBR0UsV0FBVztZQUF1QztRQUN4RTtJQUNGO0lBRUEsT0FBT25DLElBQUlJLE1BQU0sQ0FBQyxLQUFLc0MsR0FBRztBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2NhcnRmYXgvLi9wYWdlcy9hcGkvYWRtaW4vdXBsb2Fkcy9baWRdLnRzPzA0MmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcGFnZXMvYXBpL2FkbWluL3VwbG9hZHMvW2lkXS50c1xyXG5cclxuaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XHJcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9uZXh0JztcclxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICcuLi8uLi9hdXRoL1suLi5uZXh0YXV0aF0nO1xyXG5pbXBvcnQgeyBwYXJzZUNvYVRleHQgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29hUGFyc2VyJztcclxuXHJcbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihyZXEsIHJlcywgYXV0aE9wdGlvbnMgYXMgYW55KTtcclxuXHJcbiAgaWYgKCFzZXNzaW9uIHx8IChzZXNzaW9uLnVzZXIgYXMgYW55KS5yb2xlICE9PSAnYWRtaW4nKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBlcnJvcjogJ2ZvcmJpZGRlbicgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnk7XHJcbiAgY29uc3QgaWROdW0gPSBOdW1iZXIoaWQpO1xyXG5cclxuICBpZiAoIWlkIHx8IE51bWJlci5pc05hTihpZE51bSkpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnaW52YWxpZCBpZCcgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRvYyA9IGF3YWl0IHByaXNtYS51cGxvYWRlZERvY3VtZW50LmZpbmRVbmlxdWUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGlkOiBpZE51bSB9LFxyXG4gICAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICAgIGxhYlJlc3VsdDoge1xyXG4gICAgICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICAgICAgYmF0Y2g6IHRydWUsXHJcbiAgICAgICAgICAgICAgbGFiOiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmICghZG9jKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdub3QgZm91bmQnIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXZSBkb24ndCBrbm93IGV4YWN0bHkgd2hhdCB0aGUgdGV4dCBmaWVsZCBpcyBuYW1lZCBpbiB0aGUgREIsXHJcbiAgICAgIC8vIHNvIHdlIHByb2JlIGEgZmV3IGxpa2VseSBjYW5kaWRhdGVzIHZpYSBgYW55YC5cclxuICAgICAgY29uc3QgYW55RG9jID0gZG9jIGFzIGFueTtcclxuICAgICAgY29uc3QgcmF3VGV4dDogc3RyaW5nID1cclxuICAgICAgICBhbnlEb2MuZXh0cmFjdGVkVGV4dCB8fFxyXG4gICAgICAgIGFueURvYy50ZXh0Q29udGVudCB8fFxyXG4gICAgICAgIGFueURvYy5yYXdUZXh0IHx8XHJcbiAgICAgICAgJyc7XHJcblxyXG4gICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHJhd1RleHQgPyBwYXJzZUNvYVRleHQocmF3VGV4dCkgOiBudWxsO1xyXG5cclxuICAgICAgLy8gVHJpbSBodWdlIHRleHQgZm9yIGRlYnVnOiBrZWVwIGZpcnN0IH4yMGsgY2hhcnNcclxuICAgICAgY29uc3QgcmF3VGV4dFByZXZpZXcgPVxyXG4gICAgICAgIHJhd1RleHQgJiYgcmF3VGV4dC5sZW5ndGggPiAyMDAwMFxyXG4gICAgICAgICAgPyByYXdUZXh0LnNsaWNlKDAsIDIwMDAwKSArICdcXG5cXG5bdHJ1bmNhdGVkIGZvciBkaXNwbGF5XSdcclxuICAgICAgICAgIDogcmF3VGV4dDtcclxuXHJcbiAgICAgIHJldHVybiByZXMuanNvbih7XHJcbiAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICBmaWxlTmFtZTogZG9jLmZpbGVOYW1lLFxyXG4gICAgICAgIC8vIGNyZWF0ZWRBdCAmIG90aGVycyB3aWxsIGJlIHNlcmlhbGl6ZWQgYXMgSVNPIHN0cmluZ3MgYnkgTmV4dFxyXG4gICAgICAgIGNyZWF0ZWRBdDogZG9jLmNyZWF0ZWRBdCxcclxuICAgICAgICBtaW1lVHlwZTogKGRvYyBhcyBhbnkpLm1pbWVUeXBlID8/IG51bGwsXHJcbiAgICAgICAgc2l6ZUJ5dGVzOiAoZG9jIGFzIGFueSkuc2l6ZUJ5dGVzID8/IG51bGwsXHJcbiAgICAgICAgbGFiUmVzdWx0OiBkb2MubGFiUmVzdWx0LFxyXG4gICAgICAgIGJhdGNoOiBkb2MubGFiUmVzdWx0Py5iYXRjaCA/PyBudWxsLFxyXG4gICAgICAgIGxhYjogZG9jLmxhYlJlc3VsdD8ubGFiID8/IG51bGwsXHJcbiAgICAgICAgcmF3VGV4dFByZXZpZXcsXHJcbiAgICAgICAgcGFyc2VSZXN1bHQsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZTogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHVwbG9hZCBkZWJ1ZyBpbmZvJywgZSk7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDUwMClcclxuICAgICAgICAuanNvbih7IGVycm9yOiBlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCB1cGxvYWQgZGVidWcgaW5mbycgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0RFTEVURScpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFdlIGFzc3VtZSBVcGxvYWRlZERvY3VtZW50IGhhcyBgbGFiUmVzdWx0SWRgIGJhc2VkIG9uIGVhcmxpZXIgc2NoZW1hLlxyXG4gICAgICBjb25zdCBkb2MgPSBhd2FpdCBwcmlzbWEudXBsb2FkZWREb2N1bWVudC5maW5kVW5pcXVlKHtcclxuICAgICAgICB3aGVyZTogeyBpZDogaWROdW0gfSxcclxuICAgICAgICBzZWxlY3Q6IHtcclxuICAgICAgICAgIGlkOiB0cnVlLFxyXG4gICAgICAgICAgbGFiUmVzdWx0SWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIWRvYykge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnbm90IGZvdW5kJyB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihhc3luYyAodHgpID0+IHtcclxuICAgICAgICBpZiAoZG9jLmxhYlJlc3VsdElkKSB7XHJcbiAgICAgICAgICBhd2FpdCB0eC5sYWJSZXN1bHQuZGVsZXRlKHtcclxuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IGRvYy5sYWJSZXN1bHRJZCB9LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCB0eC51cGxvYWRlZERvY3VtZW50LmRlbGV0ZSh7XHJcbiAgICAgICAgICB3aGVyZTogeyBpZDogZG9jLmlkIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHJlcy5qc29uKHsgb2s6IHRydWUgfSk7XHJcbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGRlbGV0ZSB1cGxvYWQgLyBsYWIgcmVzdWx0JywgZSk7XHJcbiAgICAgIHJldHVybiByZXNcclxuICAgICAgICAuc3RhdHVzKDUwMClcclxuICAgICAgICAuanNvbih7IGVycm9yOiBlPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZGVsZXRlIHVwbG9hZCAvIGxhYiByZXN1bHQnIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5lbmQoKTtcclxufVxyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2V0U2VydmVyU2Vzc2lvbiIsImF1dGhPcHRpb25zIiwicGFyc2VDb2FUZXh0IiwicHJpc21hIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInNlc3Npb24iLCJ1c2VyIiwicm9sZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImlkIiwicXVlcnkiLCJpZE51bSIsIk51bWJlciIsImlzTmFOIiwibWV0aG9kIiwiZG9jIiwidXBsb2FkZWREb2N1bWVudCIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImluY2x1ZGUiLCJsYWJSZXN1bHQiLCJiYXRjaCIsImxhYiIsImFueURvYyIsInJhd1RleHQiLCJleHRyYWN0ZWRUZXh0IiwidGV4dENvbnRlbnQiLCJwYXJzZVJlc3VsdCIsInJhd1RleHRQcmV2aWV3IiwibGVuZ3RoIiwic2xpY2UiLCJmaWxlTmFtZSIsImNyZWF0ZWRBdCIsIm1pbWVUeXBlIiwic2l6ZUJ5dGVzIiwiZSIsImNvbnNvbGUiLCJtZXNzYWdlIiwic2VsZWN0IiwibGFiUmVzdWx0SWQiLCIkdHJhbnNhY3Rpb24iLCJ0eCIsImRlbGV0ZSIsIm9rIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/admin/uploads/[id].ts\n',
        );

        /***/
      },

    /***/ '(api)/./pages/api/auth/[...nextauth].ts':
      /*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
      /***/ (
        __unused_webpack_module,
        __webpack_exports__,
        __webpack_require__,
      ) => {
        eval(
          '__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ "next-auth");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ "next-auth/providers/credentials");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/client */ "@prisma/client");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcrypt */ "bcrypt");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_2__.PrismaClient();\nconst authOptions = {\n    session: {\n        strategy: "jwt"\n    },\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: "Credentials",\n            credentials: {\n                email: {\n                    label: "Email",\n                    type: "email",\n                    placeholder: "admin@example.com"\n                },\n                password: {\n                    label: "Password",\n                    type: "password"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) return null;\n                const user = await prisma.adminUser.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                });\n                if (!user) return null;\n                const ok = await bcrypt__WEBPACK_IMPORTED_MODULE_3___default().compare(credentials.password, user.password);\n                if (!ok) return null;\n                return {\n                    id: user.id.toString(),\n                    email: user.email,\n                    name: user.name || undefined,\n                    role: user.role\n                };\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.role = user.role ?? "admin";\n                token.id = user.id ?? token.id;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            session.user = session.user ?? {};\n            session.user.role = token.role;\n            session.user.id = token.id;\n            return session;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBc0Q7QUFDWTtBQUNwQjtBQUNsQjtBQUU1QixNQUFNSSxTQUFTLElBQUlGLHdEQUFZQTtBQUV4QixNQUFNRyxjQUErQjtJQUMxQ0MsU0FBUztRQUFFQyxVQUFVO0lBQU07SUFDM0JDLFdBQVc7UUFDVFAsc0VBQW1CQSxDQUFDO1lBQ2xCUSxNQUFNO1lBQ05DLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQUVDLE9BQU87b0JBQVNDLE1BQU07b0JBQVNDLGFBQWE7Z0JBQW9CO2dCQUN6RUMsVUFBVTtvQkFBRUgsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1HLFdBQVVOLFdBQVc7Z0JBQ3pCLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSyxVQUFVLE9BQU87Z0JBRTFELE1BQU1FLE9BQU8sTUFBTWIsT0FBT2MsU0FBUyxDQUFDQyxVQUFVLENBQUM7b0JBQzdDQyxPQUFPO3dCQUFFVCxPQUFPRCxZQUFZQyxLQUFLO29CQUFDO2dCQUNwQztnQkFDQSxJQUFJLENBQUNNLE1BQU0sT0FBTztnQkFFbEIsTUFBTUksS0FBSyxNQUFNbEIscURBQWMsQ0FBQ08sWUFBWUssUUFBUSxFQUFFRSxLQUFLRixRQUFRO2dCQUNuRSxJQUFJLENBQUNNLElBQUksT0FBTztnQkFFaEIsT0FBTztvQkFDTEUsSUFBSU4sS0FBS00sRUFBRSxDQUFDQyxRQUFRO29CQUNwQmIsT0FBT00sS0FBS04sS0FBSztvQkFDakJGLE1BQU1RLEtBQUtSLElBQUksSUFBSWdCO29CQUNuQkMsTUFBTVQsS0FBS1MsSUFBSTtnQkFDakI7WUFDRjtRQUNGO0tBQ0Q7SUFDREMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFWixJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUlksTUFBTUgsSUFBSSxHQUFHLEtBQWNBLElBQUksSUFBSTtnQkFDbkNHLE1BQU1OLEVBQUUsR0FBRyxLQUFjQSxFQUFFLElBQUlNLE1BQU1OLEVBQUU7WUFDekM7WUFDQSxPQUFPTTtRQUNUO1FBQ0EsTUFBTXZCLFNBQVEsRUFBRUEsT0FBTyxFQUFFdUIsS0FBSyxFQUFFO1lBQzdCdkIsUUFBZ0JXLElBQUksR0FBR1gsUUFBUVcsSUFBSSxJQUFJLENBQUM7WUFDeENYLFFBQWdCVyxJQUFJLENBQUNTLElBQUksR0FBR0csTUFBTUgsSUFBSTtZQUN0Q3BCLFFBQWdCVyxJQUFJLENBQUNNLEVBQUUsR0FBR00sTUFBTU4sRUFBRTtZQUNuQyxPQUFPakI7UUFDVDtJQUNGO0lBQ0F3QixRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGVBQWU7QUFDckMsRUFBRTtBQUVGLGlFQUFlakMsZ0RBQVFBLENBQUNLLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXJ0ZmF4Ly4vcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cz8yZThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCwgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnO1xyXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcclxuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcblxyXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcclxuICBzZXNzaW9uOiB7IHN0cmF0ZWd5OiAnand0JyB9LFxyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XHJcbiAgICAgIG5hbWU6ICdDcmVkZW50aWFscycsXHJcbiAgICAgIGNyZWRlbnRpYWxzOiB7XHJcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAnYWRtaW5AZXhhbXBsZS5jb20nIH0sXHJcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfSxcclxuICAgICAgfSxcclxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgaWYgKCFjcmVkZW50aWFscz8uZW1haWwgfHwgIWNyZWRlbnRpYWxzPy5wYXNzd29yZCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEuYWRtaW5Vc2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGNyZWRlbnRpYWxzLmVtYWlsIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCF1c2VyKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgY29uc3Qgb2sgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShjcmVkZW50aWFscy5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgaWYgKCFvaykgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogdXNlci5pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgcm9sZTogdXNlci5yb2xlLFxyXG4gICAgICAgIH0gYXMgYW55O1xyXG4gICAgICB9LFxyXG4gICAgfSksXHJcbiAgXSxcclxuICBjYWxsYmFja3M6IHtcclxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICB0b2tlbi5yb2xlID0gKHVzZXIgYXMgYW55KS5yb2xlID8/ICdhZG1pbic7XHJcbiAgICAgICAgdG9rZW4uaWQgPSAodXNlciBhcyBhbnkpLmlkID8/IHRva2VuLmlkO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG4gICAgICAoc2Vzc2lvbiBhcyBhbnkpLnVzZXIgPSBzZXNzaW9uLnVzZXIgPz8ge307XHJcbiAgICAgIChzZXNzaW9uIGFzIGFueSkudXNlci5yb2xlID0gdG9rZW4ucm9sZTtcclxuICAgICAgKHNlc3Npb24gYXMgYW55KS51c2VyLmlkID0gdG9rZW4uaWQ7XHJcbiAgICAgIHJldHVybiBzZXNzaW9uO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoYXV0aE9wdGlvbnMpO1xyXG5cclxuIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsIlByaXNtYUNsaWVudCIsImJjcnlwdCIsInByaXNtYSIsImF1dGhPcHRpb25zIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsImFkbWluVXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsIm9rIiwiY29tcGFyZSIsImlkIiwidG9TdHJpbmciLCJ1bmRlZmluZWQiLCJyb2xlIiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n',
        );

        /***/
      },
  };
  // load runtime
  var __webpack_require__ = require('../../../../webpack-api-runtime.js');
  __webpack_require__.C(exports);
  var __webpack_exec__ = (moduleId) =>
    __webpack_require__((__webpack_require__.s = moduleId));
  var __webpack_exports__ = __webpack_require__.X(
    0,
    ['vendor-chunks/next'],
    () =>
      __webpack_exec__(
        '(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fadmin%2Fuploads%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cadmin%5Cuploads%5C%5Bid%5D.ts&middlewareConfigBase64=e30%3D!',
      ),
  );
  module.exports = __webpack_exports__;
})();
