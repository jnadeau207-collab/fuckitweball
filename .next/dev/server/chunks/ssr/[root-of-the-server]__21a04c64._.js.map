{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jesse/Documents/cartfax_complete_v2/lib/jurisdictions.ts"],"sourcesContent":["export type JurisdictionId =\r\n  | 'unitedStates'\r\n  | 'canada'\r\n  | 'mexico'\r\n  | 'netherlands'\r\n  | 'uruguay'\r\n  | 'germany'\r\n  | 'southAfrica'\r\n  | 'luxembourg'\r\n  | 'malta'\r\n  | 'georgia';\r\n\r\nexport interface JurisdictionSpec {\r\n  id: JurisdictionId;\r\n  label: string;          // UI label in the tabs\r\n  code: string;           // ISO-ish code, used for API namespace etc.\r\n  description: string;    // Short tagline for the card\r\n  focus: { lat: number; lng: number; altitude: number };\r\n  topoJsonPath?: string;      // Where we load ADM1 polygons from\r\n  topoObjectName?: string;    // Name of TopoJSON object (defaults to first)\r\n  featureIdProp: string;      // Property used as stable id (e.g. \"code\" or \"postal\")\r\n}\r\n\r\n// Approximate camera focus points.\r\n// Altitudes are tuned for your existing “size on screen” feel.\r\nexport const JURISDICTIONS: JurisdictionSpec[] = [\r\n  {\r\n    id: 'unitedStates',\r\n    label: 'United States',\r\n    code: 'us',\r\n    description:\r\n      'Patchwork of state-level laws; the globe is the source of truth for which state is active.',\r\n    focus: { lat: 39, lng: -98, altitude: 1.7 },\r\n    topoJsonPath: '/geo/jurisdictions/us-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code', // e.g. \"US-CA\", \"US-ND\" – you decide when you export\r\n  },\r\n  {\r\n    id: 'canada',\r\n    label: 'Canada',\r\n    code: 'ca',\r\n    description:\r\n      'National recreational + medical framework; provinces hold operational details.',\r\n    focus: { lat: 62, lng: -96, altitude: 1.9 },\r\n    topoJsonPath: '/geo/jurisdictions/ca-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'mexico',\r\n    label: 'Mexico',\r\n    code: 'mx',\r\n    description:\r\n      'Federal reforms in motion; state-level practices matter for compliance.',\r\n    focus: { lat: 23, lng: -102, altitude: 1.9 },\r\n    topoJsonPath: '/geo/jurisdictions/mx-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'netherlands',\r\n    label: 'Netherlands',\r\n    code: 'nl',\r\n    description:\r\n      'Tolerated retail model with pilots; provinces are more about infrastructure.',\r\n    focus: { lat: 52.3, lng: 5.3, altitude: 2.4 },\r\n    topoJsonPath: '/geo/jurisdictions/nl-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'uruguay',\r\n    label: 'Uruguay',\r\n    code: 'uy',\r\n    description:\r\n      'First fully legal market; departments drive permits and enforcement.',\r\n    focus: { lat: -32.6, lng: -55.9, altitude: 2.0 },\r\n    topoJsonPath: '/geo/jurisdictions/uy-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'germany',\r\n    label: 'Germany',\r\n    code: 'de',\r\n    description:\r\n      'Partial legalization with social clubs; Länder own implementation details.',\r\n    focus: { lat: 51.1, lng: 10.4, altitude: 2.0 },\r\n    topoJsonPath: '/geo/jurisdictions/de-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'southAfrica',\r\n    label: 'South Africa',\r\n    code: 'za',\r\n    description:\r\n      'Private use & cultivation; provincial nodes for analysis and data pipelines.',\r\n    focus: { lat: -30.6, lng: 24, altitude: 2.0 },\r\n    topoJsonPath: '/geo/jurisdictions/za-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'luxembourg',\r\n    label: 'Luxembourg',\r\n    code: 'lu',\r\n    description:\r\n      'Small but symbolically important European test bed.',\r\n    focus: { lat: 49.8, lng: 6.1, altitude: 2.8 },\r\n    topoJsonPath: '/geo/jurisdictions/lu-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'malta',\r\n    label: 'Malta',\r\n    code: 'mt',\r\n    description:\r\n      'EU pioneer for home grow and non-profit clubs.',\r\n    focus: { lat: 35.9, lng: 14.4, altitude: 3.0 },\r\n    topoJsonPath: '/geo/jurisdictions/mt-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n  {\r\n    id: 'georgia',\r\n    label: 'Georgia',\r\n    code: 'ge',\r\n    description:\r\n      'Constitutional court–driven legalization; still evolving on the ground.',\r\n    focus: { lat: 42.3, lng: 43.4, altitude: 2.6 },\r\n    topoJsonPath: '/geo/jurisdictions/ge-adm1-topo.json',\r\n    topoObjectName: 'subunits',\r\n    featureIdProp: 'code',\r\n  },\r\n];\r\n\r\nexport const jurisdictionById: Record<JurisdictionId, JurisdictionSpec> =\r\n  Object.fromEntries(JURISDICTIONS.map((j) => [j.id, j]));"],"names":[],"mappings":";;;;;;AAyBO,MAAM,gBAAoC;IAC/C;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAI,KAAK,CAAC;YAAI,UAAU;QAAI;QAC1C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAI,KAAK,CAAC;YAAI,UAAU;QAAI;QAC1C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAI,KAAK,CAAC;YAAK,UAAU;QAAI;QAC3C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAM,KAAK;YAAK,UAAU;QAAI;QAC5C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK,CAAC;YAAM,KAAK,CAAC;YAAM,UAAU;QAAI;QAC/C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAM,KAAK;YAAM,UAAU;QAAI;QAC7C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK,CAAC;YAAM,KAAK;YAAI,UAAU;QAAI;QAC5C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAM,KAAK;YAAK,UAAU;QAAI;QAC5C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAM,KAAK;YAAM,UAAU;QAAI;QAC7C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,aACE;QACF,OAAO;YAAE,KAAK;YAAM,KAAK;YAAM,UAAU;QAAI;QAC7C,cAAc;QACd,gBAAgB;QAChB,eAAe;IACjB;CACD;AAEM,MAAM,mBACX,OAAO,WAAW,CAAC,cAAc,GAAG,CAAC,CAAC,IAAM;QAAC,EAAE,EAAE;QAAE;KAAE"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jesse/Documents/cartfax_complete_v2/components/AdminStateExplorer.tsx"],"sourcesContent":["// components/AdminStateExplorer.tsx\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport dynamic from 'next/dynamic';\r\n\r\nimport {\r\n  JurisdictionId,\r\n  JURISDICTIONS,\r\n  jurisdictionById,\r\n} from '../lib/jurisdictions';\r\nimport type { RegionSelection } from './GlobeStates';\r\n\r\nconst GlobeStates = dynamic(() => import('./GlobeStates'), {\r\n  ssr: false,\r\n  loading: () => (\r\n    <div className=\"flex h-full w-full items-center justify-center text-xs text-slate-500\">\r\n      Warming up the atlas…\r\n    </div>\r\n  ),\r\n});\r\n\r\nconst AdminStateExplorer: React.FC = () => {\r\n  const [jurisdiction, setJurisdiction] =\r\n    useState<JurisdictionId>('unitedStates');\r\n\r\n  const [selectedRegion, setSelectedRegion] =\r\n    useState<RegionSelection | null>(null);\r\n\r\n  const [altitude, setAltitude] = useState<number | null>(null);\r\n\r\n  const spec = jurisdictionById[jurisdiction];\r\n\r\n  const apiNamespace = `/api/${spec.code}`;\r\n\r\n  const handleJurisdictionChange = (id: JurisdictionId) => {\r\n    setJurisdiction(id);\r\n    setSelectedRegion(null);\r\n  };\r\n\r\n  const title =\r\n    selectedRegion?.name ?? spec.label;\r\n\r\n  const crumbScope = `${spec.label} · Jurisdiction`;\r\n  const crumbLine =\r\n    'Drag, hover, and click the atlas to explore coverage in different legal regimes.';\r\n\r\n  const detailKind =\r\n    selectedRegion == null\r\n      ? `${spec.label} snapshot`\r\n      : `${selectedRegion.name} snapshot`;\r\n\r\n  return (\r\n    <main className=\"relative flex h-screen flex-col bg-black text-slate-50 overflow-hidden\">\r\n      {/* Top crumb + tabs */}\r\n      <header className=\"z-20 shrink-0 border-b border-slate-900 bg-gradient-to-b from-black via-black to-slate-950/60 px-6 pt-4 pb-3\">\r\n        <div className=\"mx-auto flex max-w-6xl flex-col gap-2\">\r\n          <div className=\"flex flex-wrap items-baseline gap-3\">\r\n            <p className=\"text-[0.7rem] font-semibold uppercase tracking-[0.22em] text-sky-400\">\r\n              {crumbScope}\r\n            </p>\r\n            <p className=\"text-[0.75rem] text-slate-400\">\r\n              {crumbLine}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n            <div className=\"inline-flex rounded-full border border-slate-800 bg-black px-1 py-1 shadow-sm shadow-slate-900\">\r\n              {JURISDICTIONS.map((j) => (\r\n                <button\r\n                  key={j.id}\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                    handleJurisdictionChange(j.id)\r\n                  }\r\n                  className={\r\n                    'rounded-full px-4 py-1.5 text-[11px] transition ' +\r\n                    (jurisdiction === j.id\r\n                      ? 'bg-sky-500 text-white shadow-sm shadow-sky-500/40'\r\n                      : 'text-slate-400 hover:text-slate-100')\r\n                  }\r\n                >\r\n                  {j.label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2 text-[11px] text-slate-500\">\r\n              <span className=\"inline-flex h-2 w-2 rounded-full bg-sky-400 shadow-[0_0_0_4px_rgba(56,189,248,0.40)]\" />\r\n              <span>\r\n                Drag to spin · Hover to “lift” · Scroll to zoom · Click to drill into a region\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Globe + overlay card */}\r\n      <section className=\"relative flex flex-1 overflow-hidden\">\r\n        {/* Globe fills the whole left / center area */}\r\n        <div className=\"relative flex flex-1 items-center justify-center\">\r\n          <div className=\"relative h-full w-full\">\r\n            {/* The globe canvas */}\r\n            <GlobeStates\r\n              jurisdiction={jurisdiction}\r\n              onRegionSelect={(region) =>\r\n                setSelectedRegion(region)\r\n              }\r\n              onViewChange={(alt) =>\r\n                setAltitude(alt)\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Floating card anchored near the right edge */}\r\n        <aside className=\"pointer-events-none absolute inset-y-6 right-6 z-30 flex max-w-sm items-start justify-end\">\r\n          <div className=\"pointer-events-auto w-full max-w-sm rounded-3xl border border-slate-700 bg-black/85 px-4 pb-3 pt-3 text-sm shadow-[0_22px_60px_rgba(0,0,0,0.85)] backdrop-blur\">\r\n            <header className=\"mb-3 border-b border-slate-800 pb-2\">\r\n              <p className=\"text-[0.68rem] font-semibold uppercase tracking-[0.22em] text-sky-400\">\r\n                {spec.label.toUpperCase()} ·{' '}\r\n                {detailKind.toUpperCase()}\r\n              </p>\r\n              <h2 className=\"text-base font-semibold text-slate-50\">\r\n                {title}\r\n              </h2>\r\n              <p className=\"mt-1 text-[0.78rem] text-slate-400\">\r\n                {spec.description}\r\n              </p>\r\n            </header>\r\n\r\n            <div className=\"space-y-3 text-[0.78rem] text-slate-300\">\r\n              <p>\r\n                You’re viewing{' '}\r\n                <span className=\"font-semibold\">\r\n                  {spec.label}\r\n                </span>{' '}\r\n                as a CartFax operator. The globe state is the\r\n                source of truth for which jurisdiction and\r\n                subregion are active. Backend calls for this\r\n                view should route through:\r\n              </p>\r\n              <p className=\"rounded-md bg-slate-900 px-3 py-1.5 font-mono text-[0.72rem] text-sky-300\">\r\n                {apiNamespace}\r\n                {selectedRegion\r\n                  ? `/regions/${selectedRegion.id}`\r\n                  : ''}\r\n              </p>\r\n\r\n              <p className=\"text-[0.72rem] text-slate-400\">\r\n                In production, use this namespace to scope:\r\n                COA parsing, batch ingestion, recalls,\r\n                dashboards, and permissions. The admin app can\r\n                still offer a deep “table view”, but the globe\r\n                remains the universal entry point.\r\n              </p>\r\n            </div>\r\n\r\n            <footer className=\"mt-3 flex items-center justify-between gap-3 border-t border-slate-800 pt-2\">\r\n              <Link\r\n                href={`/admin?jurisdiction=${spec.code}${\r\n                  selectedRegion\r\n                    ? `&region=${encodeURIComponent(\r\n                        selectedRegion.id,\r\n                      )}`\r\n                    : ''\r\n                }`}\r\n                className=\"inline-flex items-center justify-center rounded-full bg-sky-500 px-3 py-1.5 text-[0.78rem] font-medium text-white shadow-sm shadow-sky-500/40 transition hover:bg-sky-600\"\r\n              >\r\n                Open admin data tools\r\n              </Link>\r\n\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setSelectedRegion(null)}\r\n                className=\"text-[11px] text-slate-500 hover:text-slate-300\"\r\n              >\r\n                Reset to region\r\n              </button>\r\n            </footer>\r\n          </div>\r\n        </aside>\r\n      </section>\r\n\r\n      {/* Tiny footer – kept inside 100vh */}\r\n      <footer className=\"z-10 shrink-0 border-t border-slate-900 bg-black px-6 py-2 text-[10px] text-slate-500\">\r\n        <div className=\"mx-auto flex max-w-6xl items-center justify-between\">\r\n          <span>© {new Date().getFullYear()} CartFax.</span>\r\n          <span>\r\n            Independent data on legal cannabis retailers &\r\n            batches.\r\n          </span>\r\n        </div>\r\n      </footer>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default AdminStateExplorer;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jesse/Documents/cartfax_complete_v2/pages/index.tsx"],"sourcesContent":["// pages/index.tsx\nimport { useSession } from 'next-auth/react';\nimport AdminStateExplorer from '../components/AdminStateExplorer';\n\nexport default function Home() {\n  const { data: session } = useSession();\n  // Same atlas, but guests are allowed and treated as \"guest\" role\n  return <AdminStateExplorer session={session ?? null} />;\n}\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;AAClB;AACA;;;;AAEe,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,iJAAU;IACpC,iEAAiE;IACjE,qBAAO,qKAAC,qIAAkB;QAAC,SAAS,WAAW;;;;;;AACjD"}}]
}