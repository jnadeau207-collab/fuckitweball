{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[turbopack]/browser/dev/hmr-client/hmr-client.ts"],"sourcesContent":["/// <reference path=\"../../../shared/runtime-types.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-globals.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-protocol.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-extensions.ts\" />\r\n\r\ntype SendMessage = (msg: any) => void\r\nexport type WebSocketMessage =\r\n  | {\r\n      type: 'turbopack-connected'\r\n    }\r\n  | {\r\n      type: 'turbopack-message'\r\n      data: Record<string, any>\r\n    }\r\n\r\nexport type ClientOptions = {\r\n  addMessageListener: (cb: (msg: WebSocketMessage) => void) => void\r\n  sendMessage: SendMessage\r\n  onUpdateError: (err: unknown) => void\r\n}\r\n\r\nexport function connect({\r\n  addMessageListener,\r\n  sendMessage,\r\n  onUpdateError = console.error,\r\n}: ClientOptions) {\r\n  addMessageListener((msg) => {\r\n    switch (msg.type) {\r\n      case 'turbopack-connected':\r\n        handleSocketConnected(sendMessage)\r\n        break\r\n      default:\r\n        try {\r\n          if (Array.isArray(msg.data)) {\r\n            for (let i = 0; i < msg.data.length; i++) {\r\n              handleSocketMessage(msg.data[i] as ServerMessage)\r\n            }\r\n          } else {\r\n            handleSocketMessage(msg.data as ServerMessage)\r\n          }\r\n          applyAggregatedUpdates()\r\n        } catch (e: unknown) {\r\n          console.warn(\r\n            '[Fast Refresh] performing full reload\\n\\n' +\r\n              \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\r\n              'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\r\n              'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\r\n              'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\r\n              'Fast Refresh requires at least one parent function component in your React tree.'\r\n          )\r\n          onUpdateError(e)\r\n          location.reload()\r\n        }\r\n        break\r\n    }\r\n  })\r\n\r\n  const queued = globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS\r\n  if (queued != null && !Array.isArray(queued)) {\r\n    throw new Error('A separate HMR handler was already registered')\r\n  }\r\n  globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS = {\r\n    push: ([chunkPath, callback]: [ChunkListPath, UpdateCallback]) => {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    },\r\n  }\r\n\r\n  if (Array.isArray(queued)) {\r\n    for (const [chunkPath, callback] of queued) {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    }\r\n  }\r\n}\r\n\r\ntype UpdateCallbackSet = {\r\n  callbacks: Set<UpdateCallback>\r\n  unsubscribe: () => void\r\n}\r\n\r\nconst updateCallbackSets: Map<ResourceKey, UpdateCallbackSet> = new Map()\r\n\r\nfunction sendJSON(sendMessage: SendMessage, message: ClientMessage) {\r\n  sendMessage(JSON.stringify(message))\r\n}\r\n\r\ntype ResourceKey = string\r\n\r\nfunction resourceKey(resource: ResourceIdentifier): ResourceKey {\r\n  return JSON.stringify({\r\n    path: resource.path,\r\n    headers: resource.headers || null,\r\n  })\r\n}\r\n\r\nfunction subscribeToUpdates(\r\n  sendMessage: SendMessage,\r\n  resource: ResourceIdentifier\r\n): () => void {\r\n  sendJSON(sendMessage, {\r\n    type: 'turbopack-subscribe',\r\n    ...resource,\r\n  })\r\n\r\n  return () => {\r\n    sendJSON(sendMessage, {\r\n      type: 'turbopack-unsubscribe',\r\n      ...resource,\r\n    })\r\n  }\r\n}\r\n\r\nfunction handleSocketConnected(sendMessage: SendMessage) {\r\n  for (const key of updateCallbackSets.keys()) {\r\n    subscribeToUpdates(sendMessage, JSON.parse(key))\r\n  }\r\n}\r\n\r\n// we aggregate all pending updates until the issues are resolved\r\nconst chunkListsWithPendingUpdates: Map<ResourceKey, PartialServerMessage> =\r\n  new Map()\r\n\r\nfunction aggregateUpdates(msg: PartialServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  let aggregated = chunkListsWithPendingUpdates.get(key)\r\n\r\n  if (aggregated) {\r\n    aggregated.instruction = mergeChunkListUpdates(\r\n      aggregated.instruction,\r\n      msg.instruction\r\n    )\r\n  } else {\r\n    chunkListsWithPendingUpdates.set(key, msg)\r\n  }\r\n}\r\n\r\nfunction applyAggregatedUpdates() {\r\n  if (chunkListsWithPendingUpdates.size === 0) return\r\n  hooks.beforeRefresh()\r\n  for (const msg of chunkListsWithPendingUpdates.values()) {\r\n    triggerUpdate(msg)\r\n  }\r\n  chunkListsWithPendingUpdates.clear()\r\n  finalizeUpdate()\r\n}\r\n\r\nfunction mergeChunkListUpdates(\r\n  updateA: ChunkListUpdate,\r\n  updateB: ChunkListUpdate\r\n): ChunkListUpdate {\r\n  let chunks\r\n  if (updateA.chunks != null) {\r\n    if (updateB.chunks == null) {\r\n      chunks = updateA.chunks\r\n    } else {\r\n      chunks = mergeChunkListChunks(updateA.chunks, updateB.chunks)\r\n    }\r\n  } else if (updateB.chunks != null) {\r\n    chunks = updateB.chunks\r\n  }\r\n\r\n  let merged\r\n  if (updateA.merged != null) {\r\n    if (updateB.merged == null) {\r\n      merged = updateA.merged\r\n    } else {\r\n      // Since `merged` is an array of updates, we need to merge them all into\r\n      // one, consistent update.\r\n      // Since there can only be `EcmascriptMergeUpdates` in the array, there is\r\n      // no need to key on the `type` field.\r\n      let update = updateA.merged[0]\r\n      for (let i = 1; i < updateA.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateA.merged[i]\r\n        )\r\n      }\r\n\r\n      for (let i = 0; i < updateB.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateB.merged[i]\r\n        )\r\n      }\r\n\r\n      merged = [update]\r\n    }\r\n  } else if (updateB.merged != null) {\r\n    merged = updateB.merged\r\n  }\r\n\r\n  return {\r\n    type: 'ChunkListUpdate',\r\n    chunks,\r\n    merged,\r\n  }\r\n}\r\n\r\nfunction mergeChunkListChunks(\r\n  chunksA: Record<ChunkPath, ChunkUpdate>,\r\n  chunksB: Record<ChunkPath, ChunkUpdate>\r\n): Record<ChunkPath, ChunkUpdate> {\r\n  const chunks: Record<ChunkPath, ChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeChunkUpdates(chunkUpdateA, chunkUpdateB)\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeChunkUpdates(\r\n  updateA: ChunkUpdate,\r\n  updateB: ChunkUpdate\r\n): ChunkUpdate | undefined {\r\n  if (\r\n    (updateA.type === 'added' && updateB.type === 'deleted') ||\r\n    (updateA.type === 'deleted' && updateB.type === 'added')\r\n  ) {\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'partial') {\r\n    invariant(updateA.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  if (updateB.type === 'partial') {\r\n    invariant(updateB.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nfunction mergeChunkListEcmascriptMergedUpdates(\r\n  mergedA: EcmascriptMergedUpdate,\r\n  mergedB: EcmascriptMergedUpdate\r\n): EcmascriptMergedUpdate {\r\n  const entries = mergeEcmascriptChunkEntries(mergedA.entries, mergedB.entries)\r\n  const chunks = mergeEcmascriptChunksUpdates(mergedA.chunks, mergedB.chunks)\r\n\r\n  return {\r\n    type: 'EcmascriptMergedUpdate',\r\n    entries,\r\n    chunks,\r\n  }\r\n}\r\n\r\nfunction mergeEcmascriptChunkEntries(\r\n  entriesA: Record<ModuleId, EcmascriptModuleEntry> | undefined,\r\n  entriesB: Record<ModuleId, EcmascriptModuleEntry> | undefined\r\n): Record<ModuleId, EcmascriptModuleEntry> {\r\n  return { ...entriesA, ...entriesB }\r\n}\r\n\r\nfunction mergeEcmascriptChunksUpdates(\r\n  chunksA: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined,\r\n  chunksB: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined\r\n): Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined {\r\n  if (chunksA == null) {\r\n    return chunksB\r\n  }\r\n\r\n  if (chunksB == null) {\r\n    return chunksA\r\n  }\r\n\r\n  const chunks: Record<ChunkPath, EcmascriptMergedChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeEcmascriptChunkUpdates(\r\n        chunkUpdateA,\r\n        chunkUpdateB\r\n      )\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  if (Object.keys(chunks).length === 0) {\r\n    return undefined\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeEcmascriptChunkUpdates(\r\n  updateA: EcmascriptMergedChunkUpdate,\r\n  updateB: EcmascriptMergedChunkUpdate\r\n): EcmascriptMergedChunkUpdate | undefined {\r\n  if (updateA.type === 'added' && updateB.type === 'deleted') {\r\n    // These two completely cancel each other out.\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'deleted' && updateB.type === 'added') {\r\n    const added = []\r\n    const deleted = []\r\n    const deletedModules = new Set(updateA.modules ?? [])\r\n    const addedModules = new Set(updateB.modules ?? [])\r\n\r\n    for (const moduleId of addedModules) {\r\n      if (!deletedModules.has(moduleId)) {\r\n        added.push(moduleId)\r\n      }\r\n    }\r\n\r\n    for (const moduleId of deletedModules) {\r\n      if (!addedModules.has(moduleId)) {\r\n        deleted.push(moduleId)\r\n      }\r\n    }\r\n\r\n    if (added.length === 0 && deleted.length === 0) {\r\n      return undefined\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added,\r\n      deleted,\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'partial') {\r\n    const added = new Set([...(updateA.added ?? []), ...(updateB.added ?? [])])\r\n    const deleted = new Set([\r\n      ...(updateA.deleted ?? []),\r\n      ...(updateB.deleted ?? []),\r\n    ])\r\n\r\n    if (updateB.added != null) {\r\n      for (const moduleId of updateB.added) {\r\n        deleted.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    if (updateB.deleted != null) {\r\n      for (const moduleId of updateB.deleted) {\r\n        added.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added: [...added],\r\n      deleted: [...deleted],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'added' && updateB.type === 'partial') {\r\n    const modules = new Set([\r\n      ...(updateA.modules ?? []),\r\n      ...(updateB.added ?? []),\r\n    ])\r\n\r\n    for (const moduleId of updateB.deleted ?? []) {\r\n      modules.delete(moduleId)\r\n    }\r\n\r\n    return {\r\n      type: 'added',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'deleted') {\r\n    // We could eagerly return `updateB` here, but this would potentially be\r\n    // incorrect if `updateA` has added modules.\r\n\r\n    const modules = new Set(updateB.modules ?? [])\r\n\r\n    if (updateA.added != null) {\r\n      for (const moduleId of updateA.added) {\r\n        modules.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'deleted',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  // Any other update combination is invalid.\r\n\r\n  return undefined\r\n}\r\n\r\nfunction invariant(_: never, message: string): never {\r\n  throw new Error(`Invariant: ${message}`)\r\n}\r\n\r\nconst CRITICAL = ['bug', 'error', 'fatal']\r\n\r\nfunction compareByList(list: any[], a: any, b: any) {\r\n  const aI = list.indexOf(a) + 1 || list.length\r\n  const bI = list.indexOf(b) + 1 || list.length\r\n  return aI - bI\r\n}\r\n\r\nconst chunksWithIssues: Map<ResourceKey, Issue[]> = new Map()\r\n\r\nfunction emitIssues() {\r\n  const issues = []\r\n  const deduplicationSet = new Set()\r\n\r\n  for (const [_, chunkIssues] of chunksWithIssues) {\r\n    for (const chunkIssue of chunkIssues) {\r\n      if (deduplicationSet.has(chunkIssue.formatted)) continue\r\n\r\n      issues.push(chunkIssue)\r\n      deduplicationSet.add(chunkIssue.formatted)\r\n    }\r\n  }\r\n\r\n  sortIssues(issues)\r\n\r\n  hooks.issues(issues)\r\n}\r\n\r\nfunction handleIssues(msg: ServerMessage): boolean {\r\n  const key = resourceKey(msg.resource)\r\n  let hasCriticalIssues = false\r\n\r\n  for (const issue of msg.issues) {\r\n    if (CRITICAL.includes(issue.severity)) {\r\n      hasCriticalIssues = true\r\n    }\r\n  }\r\n\r\n  if (msg.issues.length > 0) {\r\n    chunksWithIssues.set(key, msg.issues)\r\n  } else if (chunksWithIssues.has(key)) {\r\n    chunksWithIssues.delete(key)\r\n  }\r\n\r\n  emitIssues()\r\n\r\n  return hasCriticalIssues\r\n}\r\n\r\nconst SEVERITY_ORDER = ['bug', 'fatal', 'error', 'warning', 'info', 'log']\r\nconst CATEGORY_ORDER = [\r\n  'parse',\r\n  'resolve',\r\n  'code generation',\r\n  'rendering',\r\n  'typescript',\r\n  'other',\r\n]\r\n\r\nfunction sortIssues(issues: Issue[]) {\r\n  issues.sort((a, b) => {\r\n    const first = compareByList(SEVERITY_ORDER, a.severity, b.severity)\r\n    if (first !== 0) return first\r\n    return compareByList(CATEGORY_ORDER, a.category, b.category)\r\n  })\r\n}\r\n\r\nconst hooks = {\r\n  beforeRefresh: () => {},\r\n  refresh: () => {},\r\n  buildOk: () => {},\r\n  issues: (_issues: Issue[]) => {},\r\n}\r\n\r\nexport function setHooks(newHooks: typeof hooks) {\r\n  Object.assign(hooks, newHooks)\r\n}\r\n\r\nfunction handleSocketMessage(msg: ServerMessage) {\r\n  sortIssues(msg.issues)\r\n\r\n  handleIssues(msg)\r\n\r\n  switch (msg.type) {\r\n    case 'issues':\r\n      // issues are already handled\r\n      break\r\n    case 'partial':\r\n      // aggregate updates\r\n      aggregateUpdates(msg)\r\n      break\r\n    default:\r\n      // run single update\r\n      const runHooks = chunkListsWithPendingUpdates.size === 0\r\n      if (runHooks) hooks.beforeRefresh()\r\n      triggerUpdate(msg)\r\n      if (runHooks) finalizeUpdate()\r\n      break\r\n  }\r\n}\r\n\r\nfunction finalizeUpdate() {\r\n  hooks.refresh()\r\n  hooks.buildOk()\r\n\r\n  // This is used by the Next.js integration test suite to notify it when HMR\r\n  // updates have been completed.\r\n  // TODO: Only run this in test environments (gate by `process.env.__NEXT_TEST_MODE`)\r\n  if (globalThis.__NEXT_HMR_CB) {\r\n    globalThis.__NEXT_HMR_CB()\r\n    globalThis.__NEXT_HMR_CB = null\r\n  }\r\n}\r\n\r\nfunction subscribeToChunkUpdate(\r\n  chunkListPath: ChunkListPath,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n): () => void {\r\n  return subscribeToUpdate(\r\n    {\r\n      path: chunkListPath,\r\n    },\r\n    sendMessage,\r\n    callback\r\n  )\r\n}\r\n\r\nexport function subscribeToUpdate(\r\n  resource: ResourceIdentifier,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n) {\r\n  const key = resourceKey(resource)\r\n  let callbackSet: UpdateCallbackSet\r\n  const existingCallbackSet = updateCallbackSets.get(key)\r\n  if (!existingCallbackSet) {\r\n    callbackSet = {\r\n      callbacks: new Set([callback]),\r\n      unsubscribe: subscribeToUpdates(sendMessage, resource),\r\n    }\r\n    updateCallbackSets.set(key, callbackSet)\r\n  } else {\r\n    existingCallbackSet.callbacks.add(callback)\r\n    callbackSet = existingCallbackSet\r\n  }\r\n\r\n  return () => {\r\n    callbackSet.callbacks.delete(callback)\r\n\r\n    if (callbackSet.callbacks.size === 0) {\r\n      callbackSet.unsubscribe()\r\n      updateCallbackSets.delete(key)\r\n    }\r\n  }\r\n}\r\n\r\nfunction triggerUpdate(msg: ServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  const callbackSet = updateCallbackSets.get(key)\r\n  if (!callbackSet) {\r\n    return\r\n  }\r\n\r\n  for (const callback of callbackSet.callbacks) {\r\n    callback(msg)\r\n  }\r\n\r\n  if (msg.type === 'notFound') {\r\n    // This indicates that the resource which we subscribed to either does not exist or\r\n    // has been deleted. In either case, we should clear all update callbacks, so if a\r\n    // new subscription is created for the same resource, it will send a new \"subscribe\"\r\n    // message to the server.\r\n    // No need to send an \"unsubscribe\" message to the server, it will have already\r\n    // dropped the update stream before sending the \"notFound\" message.\r\n    updateCallbackSets.delete(key)\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jesse/Documents/cartfax_complete_v2/lib/stateSnapshots.ts"],"sourcesContent":["// lib/stateSnapshots.ts\r\n\r\nexport type StateSnapshot = {\r\n  id: string;              // 'CA'\r\n  name: string;            // 'California'\r\n  batchesTracked: number;  // total # of batches\r\n  labsReporting: number;   // # of labs sending data\r\n  coverageScore: number;   // 0–100, % of legal market covered\r\n  recentRecalls: number;   // last 12 months, for example\r\n};\r\n\r\nexport const STATE_SNAPSHOTS: Record<string, StateSnapshot> = {\r\n  CA: {\r\n    id: 'CA',\r\n    name: 'California',\r\n    batchesTracked: 18234,\r\n    labsReporting: 97,\r\n    coverageScore: 82,\r\n    recentRecalls: 12,\r\n  },\r\n  ME: {\r\n    id: 'ME',\r\n    name: 'Maine',\r\n    batchesTracked: 2045,\r\n    labsReporting: 14,\r\n    coverageScore: 68,\r\n    recentRecalls: 1,\r\n  },\r\n  CO: {\r\n    id: 'CO',\r\n    name: 'Colorado',\r\n    batchesTracked: 9412,\r\n    labsReporting: 33,\r\n    coverageScore: 76,\r\n    recentRecalls: 4,\r\n  },\r\n  NY: {\r\n    id: 'NY',\r\n    name: 'New York',\r\n    batchesTracked: 5110,\r\n    labsReporting: 21,\r\n    coverageScore: 59,\r\n    recentRecalls: 3,\r\n  },\r\n  // Add more as you like. For any state not listed here\r\n  // we’ll gracefully show a \"coming soon\" message.\r\n};\r\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AAWjB,MAAM,kBAAiD;IAC5D,IAAI;QACF,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,eAAe;QACf,eAAe;QACf,eAAe;IACjB;IACA,IAAI;QACF,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,eAAe;QACf,eAAe;QACf,eAAe;IACjB;IACA,IAAI;QACF,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,eAAe;QACf,eAAe;QACf,eAAe;IACjB;IACA,IAAI;QACF,IAAI;QACJ,MAAM;QACN,gBAAgB;QAChB,eAAe;QACf,eAAe;QACf,eAAe;IACjB;AAGF"}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jesse/Documents/cartfax_complete_v2/components/AdminStateExplorer.tsx"],"sourcesContent":["// components/AdminStateExplorer.tsx\r\nimport React, { useState } from 'react';\r\nimport dynamic from 'next/dynamic';\r\nimport Link from 'next/link';\r\nimport type { RegionId } from './GlobeStates';\r\nimport { STATE_SNAPSHOTS, type StateSnapshot } from '../lib/stateSnapshots';\r\n\r\nconst GlobeStates = dynamic(() => import('./GlobeStates'), {\r\n  ssr: false,\r\n  loading: () => (\r\n    <div className=\"flex h-full w-full items-center justify-center text-xs text-slate-500\">\r\n      Loading 3D atlas…\r\n    </div>\r\n  ),\r\n});\r\n\r\n// Regions available on the globe\r\nconst regionLabels: { id: RegionId; label: string }[] = [\r\n  { id: 'unitedStates', label: 'United States' },\r\n  { id: 'canada', label: 'Canada' },\r\n  { id: 'mexico', label: 'Mexico' },\r\n  { id: 'netherlands', label: 'Netherlands' },\r\n];\r\n\r\n// Simple helper for formatting numbers in the UI\r\nconst formatNumber = (n: number) =>\r\n  n.toLocaleString(undefined, { maximumFractionDigits: 0 });\r\n\r\n// For the quick-jump pill list when zoomed in on the US\r\nconst US_STATES: { id: string; name: string }[] = [\r\n  { id: 'AL', name: 'Alabama' },\r\n  { id: 'AK', name: 'Alaska' },\r\n  { id: 'AZ', name: 'Arizona' },\r\n  { id: 'AR', name: 'Arkansas' },\r\n  { id: 'CA', name: 'California' },\r\n  { id: 'CO', name: 'Colorado' },\r\n  { id: 'CT', name: 'Connecticut' },\r\n  { id: 'DE', name: 'Delaware' },\r\n  { id: 'FL', name: 'Florida' },\r\n  { id: 'GA', name: 'Georgia' },\r\n  { id: 'HI', name: 'Hawaii' },\r\n  { id: 'ID', name: 'Idaho' },\r\n  { id: 'IL', name: 'Illinois' },\r\n  { id: 'IN', name: 'Indiana' },\r\n  { id: 'IA', name: 'Iowa' },\r\n  { id: 'KS', name: 'Kansas' },\r\n  { id: 'KY', name: 'Kentucky' },\r\n  { id: 'LA', name: 'Louisiana' },\r\n  { id: 'ME', name: 'Maine' },\r\n  { id: 'MD', name: 'Maryland' },\r\n  { id: 'MA', name: 'Massachusetts' },\r\n  { id: 'MI', name: 'Michigan' },\r\n  { id: 'MN', name: 'Minnesota' },\r\n  { id: 'MS', name: 'Mississippi' },\r\n  { id: 'MO', name: 'Missouri' },\r\n  { id: 'MT', name: 'Montana' },\r\n  { id: 'NE', name: 'Nebraska' },\r\n  { id: 'NV', name: 'Nevada' },\r\n  { id: 'NH', name: 'New Hampshire' },\r\n  { id: 'NJ', name: 'New Jersey' },\r\n  { id: 'NM', name: 'New Mexico' },\r\n  { id: 'NY', name: 'New York' },\r\n  { id: 'NC', name: 'North Carolina' },\r\n  { id: 'ND', name: 'North Dakota' },\r\n  { id: 'OH', name: 'Ohio' },\r\n  { id: 'OK', name: 'Oklahoma' },\r\n  { id: 'OR', name: 'Oregon' },\r\n  { id: 'PA', name: 'Pennsylvania' },\r\n  { id: 'RI', name: 'Rhode Island' },\r\n  { id: 'SC', name: 'South Carolina' },\r\n  { id: 'SD', name: 'South Dakota' },\r\n  { id: 'TN', name: 'Tennessee' },\r\n  { id: 'TX', name: 'Texas' },\r\n  { id: 'UT', name: 'Utah' },\r\n  { id: 'VT', name: 'Vermont' },\r\n  { id: 'VA', name: 'Virginia' },\r\n  { id: 'WA', name: 'Washington' },\r\n  { id: 'WV', name: 'West Virginia' },\r\n  { id: 'WI', name: 'Wisconsin' },\r\n  { id: 'WY', name: 'Wyoming' },\r\n];\r\n\r\n// FIPS → postal abbreviation map so we can resolve snapshot keys\r\nconst FIPS_TO_STATE_CODE: Record<string, string> = {\r\n  '01': 'AL',\r\n  '02': 'AK',\r\n  '04': 'AZ',\r\n  '05': 'AR',\r\n  '06': 'CA',\r\n  '08': 'CO',\r\n  '09': 'CT',\r\n  '10': 'DE',\r\n  '11': 'DC',\r\n  '12': 'FL',\r\n  '13': 'GA',\r\n  '15': 'HI',\r\n  '16': 'ID',\r\n  '17': 'IL',\r\n  '18': 'IN',\r\n  '19': 'IA',\r\n  '20': 'KS',\r\n  '21': 'KY',\r\n  '22': 'LA',\r\n  '23': 'ME',\r\n  '24': 'MD',\r\n  '25': 'MA',\r\n  '26': 'MI',\r\n  '27': 'MN',\r\n  '28': 'MS',\r\n  '29': 'MO',\r\n  '30': 'MT',\r\n  '31': 'NE',\r\n  '32': 'NV',\r\n  '33': 'NH',\r\n  '34': 'NJ',\r\n  '35': 'NM',\r\n  '36': 'NY',\r\n  '37': 'NC',\r\n  '38': 'ND',\r\n  '39': 'OH',\r\n  '40': 'OK',\r\n  '41': 'OR',\r\n  '42': 'PA',\r\n  '44': 'RI',\r\n  '45': 'SC',\r\n  '46': 'SD',\r\n  '47': 'TN',\r\n  '48': 'TX',\r\n  '49': 'UT',\r\n  '50': 'VT',\r\n  '51': 'VA',\r\n  '53': 'WA',\r\n  '54': 'WV',\r\n  '55': 'WI',\r\n  '56': 'WY',\r\n};\r\n\r\n/**\r\n * Take whatever ID the globe gives us (e.g. \"CA\", \"06\", or even 6)\r\n * and resolve a two-letter state code suitable for STATE_SNAPSHOTS lookups.\r\n * This is where the “California works once, then breaks” bug was coming from.\r\n */\r\nconst resolveStateCode = (\r\n  rawId: string | number | null,\r\n): string | null => {\r\n  if (rawId === null || rawId === undefined) return null;\r\n\r\n  // Normalize everything to a trimmed string first\r\n  const trimmed = String(rawId).trim();\r\n  if (!trimmed) return null;\r\n\r\n  const upper = trimmed.toUpperCase();\r\n\r\n  // Already looks like a postal code (e.g. \"CA\")\r\n  if (/^[A-Z]{2}$/.test(upper)) return upper;\r\n\r\n  // FIPS → postal (e.g. \"06\" → \"CA\"). Handle unpadded numbers like \"6\".\r\n  const fipsKey =\r\n    trimmed.length === 1 ? trimmed.padStart(2, '0') : trimmed;\r\n\r\n  if (FIPS_TO_STATE_CODE[fipsKey]) {\r\n    return FIPS_TO_STATE_CODE[fipsKey];\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nconst AdminStateExplorer: React.FC = () => {\r\n  const [region, setRegion] = useState<RegionId>('unitedStates');\r\n\r\n  const [selected, setSelected] = useState<{\r\n    id: string | null;\r\n    name: string | null;\r\n  }>({\r\n    id: 'CA', // initial: CA\r\n    name: 'California',\r\n  });\r\n\r\n  const [viewAltitude, setViewAltitude] = useState<number | null>(null);\r\n\r\n  const isUS = region === 'unitedStates';\r\n  const zoomedIn = viewAltitude !== null && viewAltitude < 1.6;\r\n  const quickStates = isUS && zoomedIn ? US_STATES : [];\r\n\r\n  // For UI: what code should we *show* (CA vs 06)?\r\n  const displayStateCode =\r\n    isUS ? resolveStateCode(selected.id) ?? selected.id : selected.id;\r\n\r\n  // For metrics: what key should we use to look up STATE_SNAPSHOTS?\r\n  const snapshotKey = isUS ? resolveStateCode(selected.id) : null;\r\n\r\n  const activeSnapshot: StateSnapshot | null =\r\n    snapshotKey && STATE_SNAPSHOTS[snapshotKey]\r\n      ? STATE_SNAPSHOTS[snapshotKey]\r\n      : null;\r\n\r\n  const coveragePct = activeSnapshot?.coverageScore ?? 0;\r\n\r\n  const detailTitle =\r\n    activeSnapshot?.name ||\r\n    selected.name ||\r\n    (isUS ? 'United States of America' : 'Selected region');\r\n\r\n  const detailKind = isUS ? 'State snapshot' : 'Region snapshot';\r\n\r\n  const handleRegionChange = (next: RegionId) => {\r\n    setRegion(next);\r\n\r\n    const label =\r\n      regionLabels.find(r => r.id === next)?.label ?? null;\r\n\r\n    if (next === 'unitedStates') {\r\n      // When coming back to US, default to CA if nothing obvious is selected\r\n      setSelected(prev =>\r\n        prev && prev.id\r\n          ? prev\r\n          : { id: 'CA', name: 'California' },\r\n      );\r\n    } else {\r\n      // For non-US regions we treat the region itself as the \"selection\"\r\n      setSelected({\r\n        id: next,\r\n        name: label,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"relative min-h-[calc(100vh-3.5rem)] bg-slate-950 text-slate-50\">\r\n      <div className=\"mx-auto flex max-w-6xl flex-col gap-8 px-4 py-8 lg:flex-row\">\r\n        {/* Left: globe + copy */}\r\n        <div className=\"flex-1\">\r\n          {/* Header */}\r\n          <header className=\"mb-6 flex flex-col gap-3 md:flex-row md:items-baseline md:justify-between\">\r\n            <div>\r\n              <p className=\"text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-sky-400\">\r\n                CartFax · Atlas\r\n              </p>\r\n              <h1 className=\"mt-1 text-2xl font-semibold tracking-tight text-slate-50\">\r\n                COA coverage across legal markets\r\n              </h1>\r\n              <p className=\"mt-1 max-w-xl text-sm text-slate-400\">\r\n                Spin the globe and click any state or region to see where\r\n                CartFax is actively tracking batches, labs, and recalls.\r\n                Data here is synthetic while we wire live feeds into the\r\n                atlas.\r\n              </p>\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"relative overflow-hidden rounded-3xl border border-slate-800 bg-slate-900/60 shadow-[0_24px_80px_rgba(15,23,42,0.9)]\">\r\n            {/* Glow blobs */}\r\n            <div className=\"pointer-events-none absolute -left-28 -top-32 h-64 w-64 rounded-full bg-sky-500/20 blur-3xl\" />\r\n            <div className=\"pointer-events-none absolute -right-40 bottom-0 h-72 w-72 rounded-full bg-emerald-500/20 blur-[72px]\" />\r\n\r\n            <div className=\"relative flex flex-col gap-4 p-4 lg:p-5\">\r\n              {/* Region tabs + interaction hint */}\r\n              <div className=\"flex flex-col items-center gap-3\">\r\n                <div className=\"inline-flex rounded-full border border-slate-200 bg-white px-1 py-1 shadow-sm\">\r\n                  {regionLabels.map(r => (\r\n                    <button\r\n                      key={r.id}\r\n                      type=\"button\"\r\n                      onClick={() => handleRegionChange(r.id)}\r\n                      className={\r\n                        'rounded-full px-4 py-1.5 text-[11px] transition ' +\r\n                        (region === r.id\r\n                          ? 'bg-sky-500 text-white shadow-sm shadow-sky-500/40'\r\n                          : 'text-slate-500 hover:text-slate-900')\r\n                      }\r\n                    >\r\n                      {r.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                <div className=\"flex items-center gap-2 text-[11px] text-slate-500\">\r\n                  <span className=\"inline-flex h-2 w-2 rounded-full bg-sky-400 shadow-[0_0_0_4px_rgba(56,189,248,0.40)]\" />\r\n                  <span>\r\n                    Drag to spin · Hover to “lift” · Scroll to zoom · Click to\r\n                    drill in\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Globe container */}\r\n              <div className=\"relative mt-3 aspect-[4/3] w-full overflow-hidden rounded-2xl border border-slate-800 bg-slate-950/60\">\r\n                <GlobeStates\r\n                  region={region}\r\n                  onRegionChange={handleRegionChange}\r\n                  onStateSelect={(id, name) =>\r\n                    setSelected({\r\n                      id: id || null,\r\n                      name: name || null,\r\n                    })\r\n                  }\r\n                  onViewChange={alt => setViewAltitude(alt)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right column: explainer / meta */}\r\n        <aside className=\"w-full max-w-sm space-y-4 lg:w-[320px]\">\r\n          <section className=\"rounded-3xl border border-slate-800 bg-slate-900/70 p-4 shadow-[0_18px_60px_rgba(15,23,42,0.65)] backdrop-blur\">\r\n            <p className=\"text-[0.7rem] font-semibold uppercase tracking-[0.2em] text-slate-400\">\r\n              Why this exists\r\n            </p>\r\n            <h2 className=\"mt-2 text-lg font-semibold text-slate-50\">\r\n              A single cockpit for cannabis safety data\r\n            </h2>\r\n            <p className=\"mt-2 text-sm text-slate-400\">\r\n              CartFax ingests COAs from licensed labs, normalizes the data,\r\n              and maps it down to batches, dispensaries, and brands. The\r\n              atlas gives regulators, operators, and patients a live view of\r\n              where safety data is strong—and where it&apos;s missing.\r\n            </p>\r\n            <p className=\"mt-3 text-[0.72rem] text-slate-500\">\r\n              Today you&apos;re seeing demo numbers so we can iterate on\r\n              the experience while we finish wiring live ingestion,\r\n              deduplication, and alerting pipelines.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"rounded-3xl border border-dashed border-emerald-500/40 bg-emerald-500/5 p-4 text-sm text-emerald-50\">\r\n            <p className=\"text-[0.7rem] font-semibold uppercase tracking-[0.18em] text-emerald-300\">\r\n              Admin access\r\n            </p>\r\n            <p className=\"mt-1 text-sm text-emerald-50\">\r\n              If you&apos;re an operator, lab, or regulator, you can use the\r\n              admin tools to manage batches, COA uploads, and locations in\r\n              more detail.\r\n            </p>\r\n            <p className=\"mt-2 text-[0.75rem] text-emerald-200/80\">\r\n              Use the &ldquo;Log in&rdquo; button in the top-right, then\r\n              come back to this atlas or open the dedicated admin hub.\r\n            </p>\r\n          </section>\r\n        </aside>\r\n      </div>\r\n\r\n      {/* Quick-jump overlay for US only, when zoomed in */}\r\n      {quickStates.length > 0 && (\r\n        <aside className=\"pointer-events-auto fixed left-6 top-1/2 z-30 hidden max-h-[420px] w-[220px] -translate-y-1/2 rounded-3xl border border-slate-200 bg-white/95 p-3 shadow-[0_18px_60px_rgba(15,23,42,0.16)] backdrop-blur lg:block\">\r\n          <p className=\"mb-2 px-1 text-[10px] font-semibold uppercase tracking-[0.18em] text-slate-500\">\r\n            Quick jump\r\n          </p>\r\n          <div className=\"max-h-[360px] overflow-y-auto pr-1\">\r\n            {quickStates.map(s => {\r\n              const currentCode = resolveStateCode(selected.id);\r\n              const isSelectedState =\r\n                (currentCode && currentCode === s.id) ||\r\n                selected.id === s.id;\r\n\r\n              return (\r\n                <button\r\n                  key={s.id}\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                    setSelected({ id: s.id, name: s.name })\r\n                  }\r\n                  className={\r\n                    'mb-[3px] w-full rounded-full px-2 py-1 text-left text-[0.72rem] transition ' +\r\n                    (isSelectedState\r\n                      ? 'bg-sky-500 text-white'\r\n                      : 'bg-white text-slate-600 hover:bg-slate-100')\r\n                  }\r\n                >\r\n                  {s.id} · {s.name}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </aside>\r\n      )}\r\n\r\n      {/* Floating detail panel for the current selection */}\r\n      {selected.name && (\r\n        <section className=\"fixed bottom-6 right-6 z-30 max-w-sm rounded-3xl border border-slate-200 bg-white shadow-[0_22px_70px_rgba(15,23,42,0.35)] backdrop-blur\">\r\n          <header className=\"border-b border-slate-100 px-4 pb-2 pt-3\">\r\n            <p className=\"mb-1 text-[0.68rem] font-semibold uppercase tracking-[0.22em] text-sky-500\">\r\n              {displayStateCode ?? selected.id ?? ''} · {detailKind}\r\n            </p>\r\n            <h2 className=\"text-lg font-semibold text-slate-900\">\r\n              {detailTitle}\r\n            </h2>\r\n            <p className=\"mt-1 text-[0.78rem] text-slate-500\">\r\n              {activeSnapshot\r\n                ? 'Synthetic coverage metrics while we connect live COA feeds and lab integrations.'\r\n                : 'We haven’t wired live coverage here yet. COA parsing and map tiles are coming soon.'}\r\n            </p>\r\n          </header>\r\n\r\n          {activeSnapshot && (\r\n            <div className=\"px-4 pb-3 pt-3\">\r\n              <dl className=\"mb-4 grid grid-cols-2 gap-3 text-[0.78rem]\">\r\n                <div>\r\n                  <dt className=\"text-[0.68rem] font-medium uppercase tracking-[0.16em] text-slate-500\">\r\n                    Batches tracked\r\n                  </dt>\r\n                  <dd className=\"mt-1 text-sm font-semibold text-slate-900\">\r\n                    {formatNumber(activeSnapshot.batchesTracked)}\r\n                  </dd>\r\n                </div>\r\n                <div>\r\n                  <dt className=\"text-[0.68rem] font-medium uppercase tracking-[0.16em] text-slate-500\">\r\n                    Labs reporting\r\n                  </dt>\r\n                  <dd className=\"mt-1 text-sm font-semibold text-slate-900\">\r\n                    {formatNumber(activeSnapshot.labsReporting)}\r\n                  </dd>\r\n                </div>\r\n                <div>\r\n                  <dt className=\"text-[0.68rem] font-medium uppercase tracking-[0.16em] text-slate-500\">\r\n                    Coverage score\r\n                  </dt>\r\n                  <dd className=\"mt-1 text-sm font-semibold text-slate-900\">\r\n                    {activeSnapshot.coverageScore}/100\r\n                  </dd>\r\n                </div>\r\n                <div>\r\n                  <dt className=\"text-[0.68rem] font-medium uppercase tracking-[0.16em] text-slate-500\">\r\n                    Recalls\r\n                  </dt>\r\n                  <dd className=\"mt-1 text-sm font-semibold text-slate-900\">\r\n                    {activeSnapshot.recentRecalls}\r\n                  </dd>\r\n                </div>\r\n              </dl>\r\n\r\n              {/* Coverage bar */}\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex items-center justify-between text-[0.7rem] text-slate-500\">\r\n                  <span className=\"font-medium uppercase tracking-[0.16em]\">\r\n                    Coverage\r\n                  </span>\r\n                  <span className=\"font-semibold text-slate-700\">\r\n                    {coveragePct}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"mt-1 h-2 rounded-full bg-slate-100\">\r\n                  <div\r\n                    className=\"h-2 rounded-full bg-gradient-to-r from-emerald-400 to-sky-500 shadow-[0_0_12px_rgba(56,189,248,0.6)]\"\r\n                    style={{\r\n                      width: `${Math.min(coveragePct, 100)}%`,\r\n                    }}\r\n                  />\r\n                </div>\r\n                <p className=\"mt-1 text-[0.7rem] text-slate-500\">\r\n                  {coveragePct}% estimated coverage of the legal market in\r\n                  this state.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <footer className=\"flex items-center justify-between gap-3 border-t border-slate-100 px-4 py-2.5\">\r\n            <Link\r\n              href=\"/admin\"\r\n              className=\"inline-flex items-center justify-center rounded-full bg-sky-500 px-3 py-1.5 text-[0.78rem] font-medium text-white shadow-sm shadow-sky-500/40 transition hover:bg-sky-600\"\r\n            >\r\n              Open admin data tools\r\n            </Link>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setSelected({ id: null, name: null })}\r\n              className=\"text-[11px] text-slate-400 hover:text-slate-600\"\r\n            >\r\n              Dismiss\r\n            </button>\r\n          </footer>\r\n        </section>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default AdminStateExplorer;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1450, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jesse/Documents/cartfax_complete_v2/pages/index.tsx"],"sourcesContent":["// pages/index.tsx\nimport { useSession } from 'next-auth/react';\nimport AdminStateExplorer from '../components/AdminStateExplorer';\n\nexport default function Home() {\n  const { data: session } = useSession();\n  // Same atlas, but guests are allowed and treated as \"guest\" role\n  return <AdminStateExplorer session={session ?? null} />;\n}\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;AAClB;AACA;;;;;AAEe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,wJAAU;IACpC,iEAAiE;IACjE,qBAAO,0JAAC,wIAAkB;QAAC,SAAS,WAAW;;;;;;AACjD;GAJwB;;QACI,wJAAU;;;KADd"}},
    {"offset": {"line": 1488, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/entry/page-loader.ts"],"sourcesContent":["const PAGE_PATH = \"/\";\n\n/// <reference types=\"next/client\" />\r\n\r\n// inserted by rust code\r\ndeclare const PAGE_PATH: string\r\n\r\n  // Adapted from https://github.com/vercel/next.js/blob/b7f9f1f98fc8ab602e84825105b5727272b72e7d/packages/next/src/build/webpack/loaders/next-client-pages-loader.ts\r\n;(window.__NEXT_P = window.__NEXT_P || []).push([\r\n  PAGE_PATH,\r\n  () => {\r\n    return require('PAGE')\r\n  },\r\n])\r\n// @ts-expect-error module.hot exists\r\nif (module.hot) {\r\n  // @ts-expect-error module.hot exists\r\n  module.hot.dispose(function () {\r\n    window.__NEXT_P.push([PAGE_PATH])\r\n  })\r\n}\r\n"],"names":[],"mappings":"AAAA,MAAM,YAAY;AAQjB,CAAC,OAAO,QAAQ,GAAG,OAAO,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC;IAC9C;IACA;QACE;IACF;CACD;AACD,qCAAqC;AACrC,IAAI,OAAO,GAAG,EAAE;IACd,qCAAqC;IACrC,OAAO,GAAG,CAAC,OAAO,CAAC;QACjB,OAAO,QAAQ,CAAC,IAAI,CAAC;YAAC;SAAU;IAClC;AACF","ignoreList":[0]}}]
}